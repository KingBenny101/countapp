{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#count-app-documentation","title":"Count App Documentation","text":"<p>A Flutter counter app with extensible architecture, statistics, and cross-platform support.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Multiple counter types with extensible architecture</li> <li>Statistics and charts</li> <li>Local storage with Hive CE</li> <li>Dark/light themes</li> <li>JSON import/export</li> <li>Cross-platform (Android, Windows, Linux)</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Setup - Clone and run the app</li> <li>Building - Create release builds</li> <li>API Reference - API documentation</li> <li>Adding Counter Types - Extend the app</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>GitHub Issues</li> <li>Source Code</li> </ul>"},{"location":"api/base-counter/","title":"BaseCounter","text":""},{"location":"api/base-counter/#basecounter-api-reference","title":"BaseCounter API Reference","text":"<p><code>BaseCounter</code> is the abstract base class that all counter types must extend. It defines the contract for counter behavior and provides common functionality.</p>"},{"location":"api/base-counter/#class-definition","title":"Class Definition","text":"<pre><code>abstract class BaseCounter {\n  BaseCounter({\n    required this.id,\n    required this.name,\n    required this.value,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  }) : updates = updates ?? [];\n\n  // Properties and methods...\n}\n</code></pre> <p>Location: <code>lib/counters/base/base_counter.dart</code></p> <p>Package: <code>countapp</code></p>"},{"location":"api/base-counter/#properties","title":"Properties","text":""},{"location":"api/base-counter/#id","title":"id","text":"<pre><code>final String id;\n</code></pre> <p>Unique identifier for this counter instance, typically a UUID v4.</p> <ul> <li>Type: <code>String</code></li> <li>Required: Yes</li> <li>Immutable: Yes</li> <li>Generated: Automatically via <code>Uuid().v4()</code> if not provided</li> </ul> <p>Example:</p> <pre><code>\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n</code></pre>"},{"location":"api/base-counter/#name","title":"name","text":"<pre><code>String name;\n</code></pre> <p>Display name of the counter shown in the UI.</p> <ul> <li>Type: <code>String</code></li> <li>Required: Yes</li> <li>Mutable: Yes (can be renamed)</li> <li>Validation: Must not be empty</li> </ul> <p>Example:</p> <pre><code>\"Daily Water Intake\"\n</code></pre>"},{"location":"api/base-counter/#value","title":"value","text":"<pre><code>int value;\n</code></pre> <p>Current count value of the counter.</p> <ul> <li>Type: <code>int</code></li> <li>Required: Yes</li> <li>Mutable: Yes (updated by interactions)</li> <li>Default: User-specified initial value</li> </ul> <p>Example:</p> <pre><code>42\n</code></pre>"},{"location":"api/base-counter/#lastupdated","title":"lastUpdated","text":"<pre><code>DateTime? lastUpdated;\n</code></pre> <p>Timestamp of the most recent update to this counter.</p> <ul> <li>Type: <code>DateTime?</code></li> <li>Required: No</li> <li>Nullable: Yes</li> <li>Updated: Automatically on each interaction</li> </ul> <p>Example:</p> <pre><code>DateTime(2025, 12, 10, 15, 30, 0)\n</code></pre>"},{"location":"api/base-counter/#updates","title":"updates","text":"<pre><code>List&lt;DateTime&gt; updates;\n</code></pre> <p>Complete history of all update timestamps in reverse chronological order (newest first).</p> <ul> <li>Type: <code>List&lt;DateTime&gt;</code></li> <li>Required: No (defaults to empty list or <code>[lastUpdated]</code>)</li> <li>Order: Newest first</li> <li>Usage: Statistics, charts, history</li> </ul> <p>Example:</p> <pre><code>[\n  DateTime(2025, 12, 10, 15, 30),\n  DateTime(2025, 12, 10, 14, 20),\n  DateTime(2025, 12, 09, 18, 45),\n]\n</code></pre>"},{"location":"api/base-counter/#abstract-properties","title":"Abstract Properties","text":"<p>These must be implemented by subclasses:</p>"},{"location":"api/base-counter/#countertype","title":"counterType","text":"<pre><code>String get counterType;\n</code></pre> <p>Unique type identifier for this counter implementation.</p> <ul> <li>Type: <code>String</code> (getter)</li> <li>Required: Yes</li> <li>Immutable: Yes</li> <li>Usage: Serialization, factory pattern, type identification</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nString get counterType =&gt; \"tap\";\n</code></pre> <p>Naming Convention: Use lowercase with underscores (e.g., <code>\"tap\"</code>, <code>\"long_press\"</code>, <code>\"swipe\"</code>).</p>"},{"location":"api/base-counter/#abstract-methods","title":"Abstract Methods","text":"<p>These must be implemented by subclasses:</p>"},{"location":"api/base-counter/#oninteraction","title":"onInteraction","text":"<pre><code>Future&lt;bool&gt; onInteraction(BuildContext context);\n</code></pre> <p>Handles user interaction with the counter. This is the core update logic.</p> <p>Parameters:</p> <ul> <li><code>context</code> (<code>BuildContext</code>): Flutter build context for showing dialogs, snackbars, etc.</li> </ul> <p>Returns: <code>Future&lt;bool&gt;</code></p> <ul> <li><code>true</code>: Counter was successfully updated</li> <li><code>false</code>: Update was cancelled or failed</li> </ul> <p>Responsibilities:</p> <ul> <li>Show confirmation dialogs if needed</li> <li>Update <code>value</code> based on counter logic</li> <li>Update <code>lastUpdated</code> timestamp</li> <li>Add to <code>updates</code> list</li> <li>Return success/failure status</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  if (requireConfirmation) {\n    final confirmed = await _showConfirmationDialog(context);\n    if (!confirmed) return false;\n  }\n\n  // Update logic\n  if (isIncrement) {\n    value += stepSize;\n  } else {\n    value -= stepSize;\n  }\n\n  final now = DateTime.now();\n  lastUpdated = now;\n  updates.insert(0, now);\n\n  return true;\n}\n</code></pre> <p>State Management</p> <p>Don't call <code>notifyListeners()</code> here. The <code>CounterProvider</code> handles state notifications after persistence.</p>"},{"location":"api/base-counter/#buildicon","title":"buildIcon","text":"<pre><code>Widget buildIcon();\n</code></pre> <p>Builds the icon widget displayed in the counter list.</p> <p>Returns: <code>Widget</code> - Icon representation of this counter type</p> <p>Responsibilities:</p> <ul> <li>Create distinctive icon for counter type</li> <li>Use <code>getColor()</code> for consistent theming</li> <li>Return a widget (typically <code>CircleAvatar</code> with an <code>Icon</code>)</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nWidget buildIcon() {\n  return CircleAvatar(\n    backgroundColor: getColor(),\n    child: Icon(\n      isIncrement ? Icons.add : Icons.remove,\n      color: Colors.white,\n      size: 24,\n    ),\n  );\n}\n</code></pre> <p>Best Practices:</p> <ul> <li>Use Material Icons</li> <li>Size icon appropriately (24-32px)</li> <li>Ensure good contrast</li> <li>Keep it simple and recognizable</li> </ul>"},{"location":"api/base-counter/#getsubtitle","title":"getSubtitle","text":"<pre><code>String getSubtitle();\n</code></pre> <p>Returns the subtitle text displayed under the counter name.</p> <p>Returns: <code>String</code> - Descriptive subtitle showing counter configuration</p> <p>Responsibilities:</p> <ul> <li>Show relevant configuration details</li> <li>Keep text concise</li> <li>Provide useful information at a glance</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nString getSubtitle() {\n  final sign = isIncrement ? \"+\" : \"-\";\n  return \"Step Size: $sign$stepSize\";\n}\n</code></pre> <p>Examples:</p> <ul> <li><code>\"Step Size: +5\"</code></li> <li><code>\"Hold 500ms \u2022 Step: +1\"</code></li> <li><code>\"Swipe Left/Right \u2022 \u00b110\"</code></li> </ul>"},{"location":"api/base-counter/#getcolor","title":"getColor","text":"<pre><code>Color getColor();\n</code></pre> <p>Returns the color used for this counter type in the UI.</p> <p>Returns: <code>Color</code> - Theme color for this counter type</p> <p>Responsibilities:</p> <ul> <li>Choose distinctive color per counter type</li> <li>Ensure accessibility (sufficient contrast)</li> <li>Use Material Design colors</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nColor getColor() =&gt; Colors.blueAccent;\n</code></pre> <p>Color Palette Suggestions:</p> <ul> <li><code>Colors.blueAccent</code> - Tap Counter</li> <li><code>Colors.deepPurple</code> - Long Press Counter</li> <li><code>Colors.green</code> - Swipe Counter</li> <li><code>Colors.orange</code> - Time-based Counter</li> </ul>"},{"location":"api/base-counter/#tojson","title":"toJson","text":"<pre><code>Map&lt;String, dynamic&gt; toJson();\n</code></pre> <p>Serializes the counter to JSON format for persistence and export.</p> <p>Returns: <code>Map&lt;String, dynamic&gt;</code> - JSON representation</p> <p>Responsibilities:</p> <ul> <li>Include <code>counterType</code> for factory deserialization</li> <li>Serialize all properties</li> <li>Convert <code>DateTime</code> to ISO 8601 strings</li> <li>Handle nested objects</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nMap&lt;String, dynamic&gt; toJson() {\n  return {\n    \"counterType\": counterType,\n    \"id\": id,\n    \"name\": name,\n    \"value\": value,\n    \"stepSize\": stepSize,\n    \"isIncrement\": isIncrement,\n    \"requireConfirmation\": requireConfirmation,\n    \"lastUpdated\": lastUpdated?.toIso8601String(),\n    \"updates\": updates.map((e) =&gt; e.toIso8601String()).toList(),\n  };\n}\n</code></pre> <p>JSON Schema Example:</p> <pre><code>{\n  \"counterType\": \"tap\",\n  \"id\": \"uuid-here\",\n  \"name\": \"Water Intake\",\n  \"value\": 8,\n  \"stepSize\": 1,\n  \"isIncrement\": true,\n  \"requireConfirmation\": true,\n  \"lastUpdated\": \"2025-12-10T15:30:00.000\",\n  \"updates\": [\"2025-12-10T15:30:00.000\", \"2025-12-10T14:20:00.000\"]\n}\n</code></pre>"},{"location":"api/base-counter/#virtual-methods","title":"Virtual Methods","text":"<p>These have default implementations but can be overridden:</p>"},{"location":"api/base-counter/#validate","title":"validate","text":"<pre><code>bool validate();\n</code></pre> <p>Validates the counter's configuration.</p> <p>Returns: <code>bool</code></p> <ul> <li><code>true</code>: Counter is valid</li> <li><code>false</code>: Counter has invalid configuration</li> </ul> <p>Default Implementation:</p> <pre><code>bool validate() {\n  return name.isNotEmpty;\n}\n</code></pre> <p>Override Example:</p> <pre><code>@override\nbool validate() {\n  return super.validate() &amp;&amp; stepSize &gt; 0 &amp;&amp; stepSize &lt;= 1000;\n}\n</code></pre> <p>Validation Rules:</p> <ul> <li>Always call <code>super.validate()</code></li> <li>Add type-specific validation</li> <li>Check ranges and constraints</li> <li>Return false for invalid state</li> </ul>"},{"location":"api/base-counter/#getstatisticspage","title":"getStatisticsPage","text":"<pre><code>Widget? getStatisticsPage(int index);\n</code></pre> <p>Returns a custom statistics page for this counter type, or null for default behavior.</p> <p>Parameters:</p> <ul> <li><code>index</code> (<code>int</code>): Counter's index in the provider list</li> </ul> <p>Returns: <code>Widget?</code></p> <ul> <li>Custom statistics widget</li> <li><code>null</code> to use default statistics or no statistics</li> </ul> <p>Default Implementation:</p> <pre><code>Widget? getStatisticsPage(int index) {\n  return null; // No custom statistics\n}\n</code></pre> <p>Override Example:</p> <pre><code>@override\nWidget? getStatisticsPage(int index) {\n  return TapCounterStatisticsPage(counter: this, index: index);\n}\n</code></pre>"},{"location":"api/base-counter/#constructor-pattern","title":"Constructor Pattern","text":"<p>Typical constructor implementation:</p> <pre><code>TapCounter({\n  String? id,\n  required this.name,\n  required this.value,\n  required this.stepSize,\n  required this.isIncrement,\n  this.requireConfirmation = true,\n  this.lastUpdated,\n  List&lt;DateTime&gt;? updates,\n})  : id = id ?? const Uuid().v4(),\n      updates = updates ?? (lastUpdated != null ? [lastUpdated] : []),\n      super(\n        id: id ?? const Uuid().v4(),\n        name: name,\n        value: value,\n        lastUpdated: lastUpdated,\n        updates: updates,\n      );\n</code></pre> <p>Key Points:</p> <ul> <li>Generate UUID if <code>id</code> not provided</li> <li>Initialize <code>updates</code> list appropriately</li> <li>Call <code>super()</code> with base properties</li> <li>Use named parameters</li> <li>Provide sensible defaults</li> </ul>"},{"location":"api/base-counter/#factory-pattern","title":"Factory Pattern","text":"<p>Each counter must have a <code>fromJson</code> factory:</p> <pre><code>factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n  // Parse DateTime fields\n  final DateTime? lastUpdated = json[\"lastUpdated\"] != null\n      ? DateTime.parse(json[\"lastUpdated\"] as String)\n      : null;\n\n  return TapCounter(\n    id: json[\"id\"] as String?,\n    name: json[\"name\"] as String,\n    value: json[\"value\"] as int,\n    stepSize: json[\"stepSize\"] as int,\n    isIncrement: json[\"isIncrement\"] as bool,\n    requireConfirmation: json[\"requireConfirmation\"] as bool? ?? true,\n    lastUpdated: lastUpdated,\n    updates: (json[\"updates\"] as List&lt;dynamic&gt;?)\n            ?.map((e) =&gt; DateTime.parse(e as String))\n            .toList() ??\n        (lastUpdated != null ? [lastUpdated] : []),\n  );\n}\n</code></pre> <p>Best Practices:</p> <ul> <li>Handle null values with defaults</li> <li>Parse DateTime strings correctly</li> <li>Support backward compatibility</li> <li>Use type casts safely (<code>as</code>, <code>as?</code>)</li> </ul>"},{"location":"api/base-counter/#usage-examples","title":"Usage Examples","text":""},{"location":"api/base-counter/#creating-a-counter","title":"Creating a Counter","text":"<pre><code>final counter = TapCounter(\n  name: \"Daily Steps\",\n  value: 0,\n  stepSize: 100,\n  isIncrement: true,\n  lastUpdated: DateTime.now(),\n);\n</code></pre>"},{"location":"api/base-counter/#updating-a-counter","title":"Updating a Counter","text":"<pre><code>final success = await counter.onInteraction(context);\nif (success) {\n  // Persist to storage\n  await provider.saveCounter(index, counter);\n}\n</code></pre>"},{"location":"api/base-counter/#serialization","title":"Serialization","text":"<pre><code>// To JSON\nfinal json = counter.toJson();\nfinal jsonString = jsonEncode(json);\n\n// From JSON\nfinal decoded = jsonDecode(jsonString);\nfinal counter = CounterFactory.fromJson(decoded);\n</code></pre>"},{"location":"api/base-counter/#validation","title":"Validation","text":"<pre><code>if (counter.validate()) {\n  await provider.addCounter(counter);\n} else {\n  showErrorDialog(\"Invalid counter configuration\");\n}\n</code></pre>"},{"location":"api/base-counter/#see-also","title":"See Also","text":"<ul> <li>CounterFactory - Dynamic counter instantiation</li> <li>TapCounter - Concrete implementation example</li> <li>Adding Counter Types - Implementation guide</li> </ul>"},{"location":"api/base-counter/#related-types","title":"Related Types","text":"<ul> <li><code>CounterProvider</code> - State management for counters</li> <li><code>DateStatistics</code> - Utility for date-based analytics</li> <li><code>Uuid</code> - ID generation</li> </ul>"},{"location":"api/base-counter/#version-history","title":"Version History","text":"Version Changes 1.4.0 Added <code>getStatisticsPage()</code> for polymorphic statistics 1.3.0 Refactored to abstract base class pattern 1.2.0 Added <code>updates</code> list for history tracking 1.0.0 Initial implementation"},{"location":"api/counter-factory/","title":"CounterFactory","text":""},{"location":"api/counter-factory/#counterfactory-api-reference","title":"CounterFactory API Reference","text":"<p>The <code>CounterFactory</code> class provides factory methods for dynamically creating counter instances from JSON data.</p>"},{"location":"api/counter-factory/#class-definition","title":"Class Definition","text":"<pre><code>class CounterFactory {\n  static BaseCounter fromJson(Map&lt;String, dynamic&gt; json);\n  static List&lt;String&gt; getSupportedTypes();\n}\n</code></pre> <p>Location: <code>lib/counters/base/counter_factory.dart</code></p>"},{"location":"api/counter-factory/#methods","title":"Methods","text":""},{"location":"api/counter-factory/#fromjson","title":"fromJson","text":"<pre><code>static BaseCounter fromJson(Map&lt;String, dynamic&gt; json)\n</code></pre> <p>Creates a counter instance from JSON data by determining the type and delegating to the appropriate constructor.</p> <p>Parameters:</p> <ul> <li><code>json</code> (<code>Map&lt;String, dynamic&gt;</code>): JSON representation of a counter</li> </ul> <p>Returns: <code>BaseCounter</code> - Concrete counter instance</p> <p>Throws: <code>ArgumentError</code> if counter type is unknown</p> <p>Example:</p> <pre><code>final json = {\n  \"counterType\": \"tap\",\n  \"id\": \"abc-123\",\n  \"name\": \"Water\",\n  \"value\": 8,\n  // ... more fields\n};\n\nfinal counter = CounterFactory.fromJson(json);\n// Returns TapCounter instance\n</code></pre>"},{"location":"api/counter-factory/#getsupportedtypes","title":"getSupportedTypes","text":"<pre><code>static List&lt;String&gt; getSupportedTypes()\n</code></pre> <p>Returns a list of all supported counter type identifiers.</p> <p>Returns: <code>List&lt;String&gt;</code> - List of type identifiers</p> <p>Example:</p> <pre><code>final types = CounterFactory.getSupportedTypes();\n// Returns: [\"tap\", \"long_press\", ...]\n</code></pre>"},{"location":"api/counter-factory/#implementation","title":"Implementation","text":"<p>The factory uses a switch statement to determine which counter type to instantiate:</p> <pre><code>static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n  final type = json[\"counterType\"] as String?;\n\n  switch (type) {\n    case \"tap\":\n      return TapCounter.fromJson(json);\n    case \"long_press\":\n      return LongPressCounter.fromJson(json);\n    // Add more types here\n    default:\n      throw ArgumentError(\"Unknown counter type: $type\");\n  }\n}\n</code></pre>"},{"location":"api/counter-factory/#adding-new-counter-types","title":"Adding New Counter Types","text":"<p>When adding a new counter type:</p> <ol> <li>Import the counter class</li> <li>Add a case to the switch statement</li> <li>Add the type to <code>getSupportedTypes()</code></li> </ol> <p>Example:</p> <pre><code>import \"package:countapp/counters/swipe_counter/swipe_counter.dart\";\n\nstatic BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n  final type = json[\"counterType\"] as String?;\n\n  switch (type) {\n    case \"tap\":\n      return TapCounter.fromJson(json);\n    case \"swipe\":  // New type\n      return SwipeCounter.fromJson(json);\n    default:\n      throw ArgumentError(\"Unknown counter type: $type\");\n  }\n}\n</code></pre>"},{"location":"api/counter-factory/#usage-in-provider","title":"Usage in Provider","text":"<p>The factory is used by <code>CounterProvider</code> when loading counters:</p> <pre><code>Future&lt;void&gt; loadCounters() async {\n  final box = await _getBox();\n  _counters = box.values\n      .map((json) =&gt; CounterFactory.fromJson(\n            Map&lt;String, dynamic&gt;.from(json as Map)\n          ))\n      .toList();\n  notifyListeners();\n}\n</code></pre>"},{"location":"api/counter-factory/#see-also","title":"See Also","text":"<ul> <li>BaseCounter - Abstract base class</li> <li>TapCounter - Concrete implementation</li> <li>Adding Counter Types - Implementation guide</li> </ul>"},{"location":"api/counter-provider/","title":"CounterProvider","text":""},{"location":"api/counter-provider/#counterprovider-api-reference","title":"CounterProvider API Reference","text":"<p><code>CounterProvider</code> is the state management provider for counters, handling loading, saving, and updates.</p>"},{"location":"api/counter-provider/#class-definition","title":"Class Definition","text":"<pre><code>class CounterProvider with ChangeNotifier {\n  List&lt;BaseCounter&gt; _counters = [];\n  Box? _box;\n\n  List&lt;BaseCounter&gt; get counters =&gt; _counters;\n}\n</code></pre> <p>Location: <code>lib/providers/counter_provider.dart</code></p> <p>Pattern: Provider (ChangeNotifier)</p>"},{"location":"api/counter-provider/#properties","title":"Properties","text":""},{"location":"api/counter-provider/#counters","title":"counters","text":"<pre><code>List&lt;BaseCounter&gt; get counters =&gt; _counters;\n</code></pre> <p>Read-only access to the current list of counters.</p> <ul> <li>Type: <code>List&lt;BaseCounter&gt;</code></li> <li>Usage: Access via <code>Provider.of&lt;CounterProvider&gt;(context).counters</code></li> </ul>"},{"location":"api/counter-provider/#methods","title":"Methods","text":""},{"location":"api/counter-provider/#loadcounters","title":"loadCounters","text":"<pre><code>Future&lt;void&gt; loadCounters() async\n</code></pre> <p>Loads all counters from Hive storage using the factory pattern.</p> <p>Example:</p> <pre><code>await provider.loadCounters();\n</code></pre>"},{"location":"api/counter-provider/#addcounter","title":"addCounter","text":"<pre><code>Future&lt;void&gt; addCounter(BaseCounter counter) async\n</code></pre> <p>Adds a new counter to the list and persists to storage.</p> <p>Parameters:</p> <ul> <li><code>counter</code> (<code>BaseCounter</code>): Counter to add</li> </ul> <p>Side Effects:</p> <ul> <li>Adds to <code>_counters</code> list</li> <li>Persists to Hive box</li> <li>Calls <code>notifyListeners()</code></li> </ul>"},{"location":"api/counter-provider/#updatecounter","title":"updateCounter","text":"<pre><code>Future&lt;void&gt; updateCounter(BuildContext context, int index) async\n</code></pre> <p>Triggers counter interaction and persists changes if successful.</p> <p>Parameters:</p> <ul> <li><code>context</code> (<code>BuildContext</code>): For showing dialogs/snackbars</li> <li><code>index</code> (<code>int</code>): Index of counter in list</li> </ul> <p>Behavior:</p> <ol> <li>Calls <code>counter.onInteraction(context)</code></li> <li>If successful, persists to storage</li> <li>Notifies listeners</li> <li>Shows success snackbar</li> </ol>"},{"location":"api/counter-provider/#removecounter","title":"removeCounter","text":"<pre><code>Future&lt;void&gt; removeCounter(int index) async\n</code></pre> <p>Removes a single counter at the specified index.</p>"},{"location":"api/counter-provider/#removecounters","title":"removeCounters","text":"<pre><code>Future&lt;void&gt; removeCounters(List&lt;int&gt; indices) async\n</code></pre> <p>Removes multiple counters efficiently.</p> <p>Note: Indices are sorted in reverse to prevent shifting issues.</p>"},{"location":"api/counter-provider/#usage-examples","title":"Usage Examples","text":""},{"location":"api/counter-provider/#loading-counters","title":"Loading Counters","text":"<pre><code>final provider = Provider.of&lt;CounterProvider&gt;(context, listen: false);\nawait provider.loadCounters();\n</code></pre>"},{"location":"api/counter-provider/#adding-a-counter","title":"Adding a Counter","text":"<pre><code>final newCounter = TapCounter(\n  name: \"Water\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n);\n\nawait provider.addCounter(newCounter);\n</code></pre>"},{"location":"api/counter-provider/#updating-a-counter","title":"Updating a Counter","text":"<pre><code>await provider.updateCounter(context, 0);\n</code></pre>"},{"location":"api/counter-provider/#accessing-counters","title":"Accessing Counters","text":"<pre><code>Consumer&lt;CounterProvider&gt;(\n  builder: (context, provider, child) {\n    return ListView.builder(\n      itemCount: provider.counters.length,\n      itemBuilder: (context, index) {\n        final counter = provider.counters[index];\n        return ListTile(title: Text(counter.name));\n      },\n    );\n  },\n)\n</code></pre>"},{"location":"api/counter-provider/#see-also","title":"See Also","text":"<ul> <li>BaseCounter</li> </ul>"},{"location":"api/tap-counter/","title":"TapCounter","text":""},{"location":"api/tap-counter/#tapcounter-api-reference","title":"TapCounter API Reference","text":"<p><code>TapCounter</code> is a concrete implementation of <code>BaseCounter</code> that updates its value when tapped, with configurable step size and direction.</p>"},{"location":"api/tap-counter/#class-definition","title":"Class Definition","text":"<pre><code>@HiveType(typeId: 1)\nclass TapCounter extends BaseCounter {\n  TapCounter({\n    String? id,\n    required this.name,\n    required this.value,\n    required this.stepSize,\n    required this.isIncrement,\n    this.requireConfirmation = true,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  });\n\n  factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json);\n}\n</code></pre> <p>Location: <code>lib/counters/tap_counter/tap_counter.dart</code></p> <p>Hive TypeId: <code>1</code></p>"},{"location":"api/tap-counter/#properties","title":"Properties","text":""},{"location":"api/tap-counter/#stepsize","title":"stepSize","text":"<pre><code>@HiveField(0)\nfinal int stepSize;\n</code></pre> <p>The amount by which the counter value changes on each update.</p> <ul> <li>Type: <code>int</code></li> <li>Required: Yes</li> <li>Validation: Must be &gt; 0</li> <li>Example: <code>1</code>, <code>5</code>, <code>10</code>, <code>100</code></li> </ul>"},{"location":"api/tap-counter/#isincrement","title":"isIncrement","text":"<pre><code>@HiveField(1)\nfinal bool isIncrement;\n</code></pre> <p>Direction of updates. <code>true</code> for increment, <code>false</code> for decrement.</p> <ul> <li>Type: <code>bool</code></li> <li>Required: Yes</li> <li>Default: <code>true</code> (increment)</li> <li>Behavior:</li> <li><code>true</code>: Adds <code>stepSize</code> to value</li> <li><code>false</code>: Subtracts <code>stepSize</code> from value</li> </ul>"},{"location":"api/tap-counter/#requireconfirmation","title":"requireConfirmation","text":"<pre><code>@HiveField(2)\nfinal bool requireConfirmation;\n</code></pre> <p>Whether to show a confirmation dialog before updating.</p> <ul> <li>Type: <code>bool</code></li> <li>Required: No</li> <li>Default: <code>true</code></li> <li>UI Impact: When <code>true</code>, shows dialog before each update</li> </ul>"},{"location":"api/tap-counter/#methods","title":"Methods","text":""},{"location":"api/tap-counter/#oninteraction","title":"onInteraction","text":"<pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async\n</code></pre> <p>Handles tap interaction, optionally showing confirmation dialog, then updates the counter value.</p> <p>Behavior:</p> <ol> <li>Show confirmation dialog if <code>requireConfirmation</code> is true</li> <li>Update <code>value</code> by <code>stepSize</code> (add if increment, subtract if decrement)</li> <li>Update <code>lastUpdated</code> timestamp</li> <li>Add timestamp to <code>updates</code> list</li> <li>Return success status</li> </ol> <p>Example:</p> <pre><code>final success = await counter.onInteraction(context);\nif (success) {\n  print(\"Counter updated to ${counter.value}\");\n}\n</code></pre>"},{"location":"api/tap-counter/#buildicon","title":"buildIcon","text":"<pre><code>@override\nWidget buildIcon()\n</code></pre> <p>Returns a blue CircleAvatar with plus or minus icon based on direction.</p> <p>Icon Selection:</p> <ul> <li><code>isIncrement == true</code>: <code>Icons.add</code></li> <li><code>isIncrement == false</code>: <code>Icons.remove</code></li> </ul>"},{"location":"api/tap-counter/#getsubtitle","title":"getSubtitle","text":"<pre><code>@override\nString getSubtitle()\n</code></pre> <p>Returns a string showing step size with direction sign.</p> <p>Format: <code>\"Step Size: +X\"</code> or <code>\"Step Size: -X\"</code></p> <p>Examples:</p> <ul> <li><code>\"Step Size: +1\"</code></li> <li><code>\"Step Size: -5\"</code></li> </ul>"},{"location":"api/tap-counter/#getcolor","title":"getColor","text":"<pre><code>@override\nColor getColor()\n</code></pre> <p>Returns <code>Colors.blueAccent</code> for TapCounter.</p>"},{"location":"api/tap-counter/#tojson","title":"toJson","text":"<pre><code>@override\nMap&lt;String, dynamic&gt; toJson()\n</code></pre> <p>Serializes the counter to JSON format.</p> <p>JSON Schema:</p> <pre><code>{\n  \"counterType\": \"tap\",\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"value\": 0,\n  \"stepSize\": 0,\n  \"isIncrement\": true,\n  \"requireConfirmation\": true,\n  \"lastUpdated\": \"ISO8601 string or null\",\n  \"updates\": [\"ISO8601 strings\"]\n}\n</code></pre>"},{"location":"api/tap-counter/#validate","title":"validate","text":"<pre><code>@override\nbool validate()\n</code></pre> <p>Validates that name is not empty and stepSize is positive.</p> <p>Returns: <code>true</code> if valid, <code>false</code> otherwise</p>"},{"location":"api/tap-counter/#getstatisticspage","title":"getStatisticsPage","text":"<pre><code>@override\nWidget? getStatisticsPage(int index)\n</code></pre> <p>Returns a <code>TapCounterStatisticsPage</code> with detailed analytics.</p>"},{"location":"api/tap-counter/#factory-constructor","title":"Factory Constructor","text":""},{"location":"api/tap-counter/#fromjson","title":"fromJson","text":"<pre><code>factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json)\n</code></pre> <p>Creates a TapCounter from JSON with backward compatibility.</p> <p>Backward Compatibility:</p> <ul> <li>Supports old <code>\"type\"</code> field (v1.3.9 and earlier)</li> <li>Supports old <code>\"direction\"</code> field (enum format)</li> <li>Supports new <code>\"isIncrement\"</code> field (boolean format)</li> </ul> <p>Example:</p> <pre><code>// Old format (still supported)\nfinal oldJson = {\n  \"counterType\": \"tap\",\n  \"type\": \"increment\",  // Old field\n  // ...\n};\n\n// New format\nfinal newJson = {\n  \"counterType\": \"tap\",\n  \"isIncrement\": true,  // New field\n  // ...\n};\n\nfinal counter1 = TapCounter.fromJson(oldJson);\nfinal counter2 = TapCounter.fromJson(newJson);\n</code></pre>"},{"location":"api/tap-counter/#usage-examples","title":"Usage Examples","text":""},{"location":"api/tap-counter/#creating-a-counter","title":"Creating a Counter","text":"<pre><code>final counter = TapCounter(\n  name: \"Daily Steps\",\n  value: 0,\n  stepSize: 100,\n  isIncrement: true,\n  requireConfirmation: false,\n  lastUpdated: DateTime.now(),\n);\n</code></pre>"},{"location":"api/tap-counter/#increment-counter","title":"Increment Counter","text":"<pre><code>final incrementCounter = TapCounter(\n  name: \"Glasses of Water\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n);\n</code></pre>"},{"location":"api/tap-counter/#decrement-counter","title":"Decrement Counter","text":"<pre><code>final decrementCounter = TapCounter(\n  name: \"Days Until Deadline\",\n  value: 30,\n  stepSize: 1,\n  isIncrement: false,\n);\n</code></pre>"},{"location":"api/tap-counter/#quick-update-no-confirmation","title":"Quick Update (No Confirmation)","text":"<pre><code>final quickCounter = TapCounter(\n  name: \"Quick Count\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n  requireConfirmation: false,  // No dialog\n);\n</code></pre>"},{"location":"api/tap-counter/#statistics-page","title":"Statistics Page","text":"<p>The <code>TapCounterStatisticsPage</code> provides:</p> <ul> <li>Daily update frequency chart</li> <li>Total updates count</li> <li>Average updates per day</li> <li>Most active day</li> <li>Day-of-week analysis</li> <li>Time window analysis</li> <li>Update history timeline</li> </ul> <p>Access via:</p> <pre><code>final statsPage = counter.getStatisticsPage(index);\nNavigator.push(context, MaterialPageRoute(builder: (_) =&gt; statsPage!));\n</code></pre>"},{"location":"api/tap-counter/#see-also","title":"See Also","text":"<ul> <li>BaseCounter - Base class documentation</li> <li>CounterFactory - Factory pattern</li> <li>Adding Counter Types - Create custom counters</li> </ul>"},{"location":"getting-started/building/","title":"Building","text":""},{"location":"getting-started/building/#building-for-release","title":"Building for Release","text":"<p>This guide covers building Count App for production distribution.</p>"},{"location":"getting-started/building/#build-script","title":"Build Script","text":"<p>Count App includes a Dart build script that handles version extraction, code generation, and platform builds:</p> <pre><code># Generate environment (icons, package config)\ndart run tool/build.dart generate\n\n# Clean build artifacts\ndart run tool/build.dart clean\n\n# Build for Android\ndart run tool/build.dart build_android\n\n# Build for Windows\ndart run tool/build.dart build_windows\n\n# Build for Linux\ndart run tool/build.dart build_linux\n\n# Build all (current platform + Android)\ndart run tool/build.dart all\n</code></pre>"},{"location":"getting-started/building/#android-build","title":"Android Build","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_android\n</code></pre> <p>Or manually:</p> <pre><code>flutter build apk --release\n</code></pre> <p>Output: <code>release/countapp-{version}.apk</code></p>"},{"location":"getting-started/building/#windows-build","title":"Windows Build","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_windows\n</code></pre> <p>Or manually:</p> <pre><code>flutter build windows --release\n</code></pre> <p>Output: <code>release/windows/countapp/</code> (folder with executable and dependencies)</p>"},{"location":"getting-started/building/#linux-build","title":"Linux Build","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_linux\n</code></pre> <p>Or manually:</p> <pre><code>flutter build linux --release\n</code></pre> <p>Output: <code>release/linux/countapp/</code> (folder with executable and dependencies)</p>"},{"location":"getting-started/building/#build-artifacts","title":"Build Artifacts","text":"<p>After running <code>dart run tool/build.dart all</code>:</p> <pre><code>release/\n\u251c\u2500\u2500 countapp-{version}.apk       # Android APK\n\u251c\u2500\u2500 windows/\n\u2502   \u2514\u2500\u2500 countapp/                # Windows executable + deps\n\u2514\u2500\u2500 linux/\n    \u2514\u2500\u2500 countapp/                # Linux executable + deps\n</code></pre>"},{"location":"getting-started/building/#version-management","title":"Version Management","text":"<p>Update version in <code>pubspec.yaml</code>:</p> <pre><code>version: 1.4.0 # MAJOR.MINOR.PATCH\n</code></pre> <p>The build script automatically extracts the version and names output files accordingly.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":""},{"location":"getting-started/configuration/#configuration","title":"Configuration","text":""},{"location":"getting-started/configuration/#application-configuration","title":"Application Configuration","text":""},{"location":"getting-started/configuration/#constants","title":"Constants","text":"<p>Application-wide constants are defined in <code>lib/utils/constants.dart</code>:</p> <pre><code>class AppConstants {\n  // Storage\n  static const String countersBox = 'counters_box';\n  static const String settingsBox = 'settings_box';\n\n  // Settings Keys\n  static const String themeModeSetting = 'theme_mode';\n\n  // Defaults\n  static const int defaultStepSize = 1;\n  static const int defaultInitialValue = 0;\n}\n</code></pre>"},{"location":"getting-started/configuration/#modifying-defaults","title":"Modifying Defaults","text":"<p>To change default values, edit <code>lib/utils/constants.dart</code>:</p> <pre><code>class AppConstants {\n  // Change default step size\n  static const int defaultStepSize = 5;  // Changed from 1\n\n  // Change default initial value\n  static const int defaultInitialValue = 100;  // Changed from 0\n}\n</code></pre> <p>After modifying constants, rebuild the app for changes to take effect.</p>"},{"location":"getting-started/installation/","title":"Setup","text":""},{"location":"getting-started/installation/#setup","title":"Setup","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Flutter SDK 3.3.3+</li> <li>Git</li> </ul>"},{"location":"getting-started/installation/#installation","title":"Installation","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/KingBenny101/countapp.git\ncd countapp\n</code></pre> <ol> <li>Install dependencies:</li> </ol> <pre><code>flutter pub get\n</code></pre> <ol> <li>Generate code (required for Hive adapters):</li> </ol> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <ol> <li>Run the app:</li> </ol> <pre><code>flutter run\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":"<p>If you encounter issues, run:</p> <pre><code>flutter doctor\n</code></pre> <p>This will check your Flutter installation and show any missing dependencies for your target platform.</p> <pre><code>```bash\n# Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install clang cmake ninja-build pkg-config libgtk-3-dev liblzma-dev\n\n# Fedora\nsudo dnf install clang cmake ninja-build gtk3-devel\n\n# Arch Linux\nsudo pacman -S clang cmake ninja gtk3\n```\n</code></pre>"},{"location":"getting-started/installation/#4-git","title":"4. Git","text":"<p>Install Git for version control:</p> WindowsLinuxmacOS <p>Download from git-scm.com</p> <pre><code>sudo apt-get install git  # Ubuntu/Debian\nsudo dnf install git       # Fedora\nsudo pacman -S git         # Arch Linux\n</code></pre> <pre><code>brew install git\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Run Flutter doctor to check your setup:</p> <pre><code>flutter doctor -v\n</code></pre> <p>Expected output should show:</p> <pre><code>[\u2713] Flutter (Channel stable, 3.16.0, on Microsoft Windows...)\n[\u2713] Android toolchain - develop for Android devices\n[\u2713] Windows version (Installed)\n[\u2713] VS Code (version 1.85.0)\n[\u2713] Connected device (1 available)\n[\u2713] Network resources\n</code></pre>"},{"location":"getting-started/installation/#clone-the-repository","title":"Clone the Repository","text":"<p>Clone the Count App repository:</p> <pre><code>git clone https://github.com/KingBenny101/countapp.git\ncd countapp\n</code></pre>"},{"location":"getting-started/installation/#install-dependencies","title":"Install Dependencies","text":"<p>Install all required Flutter packages:</p> <pre><code>flutter pub get\n</code></pre> <p>This will install all dependencies listed in <code>pubspec.yaml</code>, including:</p> <ul> <li>hive_ce: Local storage</li> <li>provider: State management</li> <li>fl_chart: Chart visualizations</li> <li>syncfusion_flutter_charts: Advanced charts</li> <li>And more...</li> </ul>"},{"location":"getting-started/installation/#generate-required-files","title":"Generate Required Files","text":"<p>Generate Hive adapters and other code:</p> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <p>Or use the build script:</p> <pre><code>dart run tool/build.dart generate\n</code></pre> <p>This generates:</p> <ul> <li>Hive type adapters (<code>*.g.dart</code>)</li> <li>Hive registrar (<code>hive_registrar.g.dart</code>)</li> </ul>"},{"location":"getting-started/installation/#ide-setup","title":"IDE Setup","text":""},{"location":"getting-started/installation/#visual-studio-code","title":"Visual Studio Code","text":"<ol> <li> <p>Install Extensions:</p> </li> <li> <p>Flutter</p> </li> <li>Dart</li> <li> <p>Flutter Widget Snippets (optional)</p> </li> <li> <p>Configure Settings: Create <code>.vscode/settings.json</code>:</p> </li> </ol> <pre><code>{\n  \"dart.flutterSdkPath\": \"C:\\\\path\\\\to\\\\flutter\",\n  \"dart.lineLength\": 80,\n  \"editor.formatOnSave\": true,\n  \"editor.rulers\": [80]\n}\n</code></pre>"},{"location":"getting-started/installation/#android-studio-intellij-idea","title":"Android Studio / IntelliJ IDEA","text":"<ol> <li> <p>Install Plugins:</p> </li> <li> <p>Flutter</p> </li> <li> <p>Dart</p> </li> <li> <p>Configure Flutter SDK:</p> </li> <li>File \u2192 Settings \u2192 Languages &amp; Frameworks \u2192 Flutter</li> <li>Set Flutter SDK path</li> </ol>"},{"location":"getting-started/installation/#verify-setup","title":"Verify Setup","text":"<p>Test your setup by running the app:</p> <pre><code>flutter run\n</code></pre> <p>Or use the debug configuration in your IDE.</p>"},{"location":"getting-started/installation/#troubleshooting_1","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/installation/#issue-build_runner-fails","title":"Issue: <code>build_runner</code> fails","text":"<p>Solution:</p> <pre><code>flutter clean\nflutter pub get\ndart run build_runner clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"getting-started/installation/#issue-android-licenses-not-accepted","title":"Issue: Android licenses not accepted","text":"<p>Solution:</p> <pre><code>flutter doctor --android-licenses\n</code></pre>"},{"location":"getting-started/installation/#issue-windows-build-fails","title":"Issue: Windows build fails","text":"<p>Solution: Ensure Visual Studio 2022 with C++ desktop development is installed.</p>"},{"location":"getting-started/installation/#issue-hive-errors","title":"Issue: Hive errors","text":"<p>Solution: Delete Hive boxes and regenerate:</p> <pre><code># Clear app data or delete Hive files\nflutter clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<p>If you encounter issues:</p> <ol> <li>Check Flutter Doctor</li> <li>Review GitHub Issues</li> <li>Open a new issue with details</li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have everything installed:</p> <ul> <li>Building \u2192 - Create release builds</li> </ul> <p>Setup Complete!</p> <p>Your development environment is ready!</p>"},{"location":"guides/adding-counter-types/","title":"Adding New Counter Types","text":""},{"location":"guides/adding-counter-types/#adding-new-counter-types","title":"Adding New Counter Types","text":"<p>This comprehensive guide walks you through creating a new counter type in Count App. The app's extensible architecture makes it straightforward to add custom counter implementations.</p>"},{"location":"guides/adding-counter-types/#overview","title":"Overview","text":"<p>Adding a new counter type involves:</p> <ol> <li>Creating a counter class that extends <code>BaseCounter</code></li> <li>Implementing required methods and properties</li> <li>Adding Hive persistence annotations</li> <li>Creating UI pages (config, statistics, updates)</li> <li>Registering the counter type in the factory</li> <li>Generating code and testing</li> </ol>"},{"location":"guides/adding-counter-types/#prerequisites","title":"Prerequisites","text":"<p>Before you begin:</p> <ul> <li>Complete the Installation guide</li> <li>Familiarize yourself with BaseCounter API</li> </ul>"},{"location":"guides/adding-counter-types/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"guides/adding-counter-types/#step-1-plan-your-counter-type","title":"Step 1: Plan Your Counter Type","text":"<p>Define the counter's behavior and properties:</p> <p>Example: Long Press Counter</p> <ul> <li>Requires long press (500ms+) to update</li> <li>Configurable hold duration</li> <li>Visual feedback during press</li> <li>Haptic feedback on update</li> </ul> <p>Required Decisions:</p> <ul> <li>Type identifier (e.g., \"long_press\")</li> <li>Hive typeId (unique integer, e.g., 3)</li> <li>Configuration parameters</li> <li>Update trigger mechanism</li> <li>Statistics to track</li> </ul>"},{"location":"guides/adding-counter-types/#step-2-create-counter-directory","title":"Step 2: Create Counter Directory","text":"<p>Create a new directory for your counter type:</p> <pre><code>lib/counters/long_press_counter/\n</code></pre> <p>This keeps counter-specific code isolated and maintainable.</p>"},{"location":"guides/adding-counter-types/#step-3-implement-the-counter-class","title":"Step 3: Implement the Counter Class","text":"<p>Create the main counter class file:</p> lib/counters/long_press_counter/long_press_counter.dart<pre><code>import \"package:countapp/counters/base/base_counter.dart\";\nimport \"package:flutter/material.dart\";\nimport \"package:hive_ce/hive.dart\";\nimport \"package:uuid/uuid.dart\";\n\npart \"long_press_counter.g.dart\";\n\n/// A counter that requires long press to update\n@HiveType(typeId: 3)  // Choose unique typeId\nclass LongPressCounter extends BaseCounter {\n  LongPressCounter({\n    String? id,\n    required this.name,\n    required this.value,\n    required this.stepSize,\n    required this.holdDuration,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  })  : id = id ?? const Uuid().v4(),\n        updates = updates ?? (lastUpdated != null ? [lastUpdated] : []),\n        super(\n          id: id ?? const Uuid().v4(),\n          name: name,\n          value: value,\n          lastUpdated: lastUpdated,\n          updates: updates,\n        );\n\n  /// Create from JSON\n  factory LongPressCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n    final DateTime? lastUpdated = json[\"lastUpdated\"] != null\n        ? DateTime.parse(json[\"lastUpdated\"] as String)\n        : null;\n\n    return LongPressCounter(\n      id: json[\"id\"] as String?,\n      name: json[\"name\"] as String,\n      value: json[\"value\"] as int,\n      stepSize: json[\"stepSize\"] as int,\n      holdDuration: json[\"holdDuration\"] as int,\n      lastUpdated: lastUpdated,\n      updates: (json[\"updates\"] as List&lt;dynamic&gt;?)\n              ?.map((e) =&gt; DateTime.parse(e as String))\n              .toList() ??\n          (lastUpdated != null ? [lastUpdated] : []),\n    );\n  }\n\n  @HiveField(0)\n  final int stepSize;\n\n  @HiveField(1)\n  final int holdDuration; // milliseconds\n\n  @HiveField(2)\n  @override\n  final String id;\n\n  @HiveField(3)\n  @override\n  String name;\n\n  @HiveField(4)\n  @override\n  int value;\n\n  @HiveField(5)\n  @override\n  DateTime? lastUpdated;\n\n  @HiveField(6)\n  @override\n  List&lt;DateTime&gt; updates;\n\n  @override\n  String get counterType =&gt; \"long_press\";\n\n  @override\n  Future&lt;bool&gt; onInteraction(BuildContext context) async {\n    // Show dialog with long press gesture detector\n    final confirmed = await _showLongPressDialog(context);\n\n    if (!confirmed) return false;\n\n    // Update counter\n    value += stepSize;\n    final now = DateTime.now();\n    lastUpdated = now;\n    updates.insert(0, now);\n\n    return true;\n  }\n\n  @override\n  Widget buildIcon() {\n    return CircleAvatar(\n      backgroundColor: getColor(),\n      child: const Icon(\n        Icons.touch_app,\n        color: Colors.white,\n        size: 24,\n      ),\n    );\n  }\n\n  @override\n  String getSubtitle() {\n    return \"Hold ${holdDuration}ms \u2022 Step: +$stepSize\";\n  }\n\n  @override\n  Color getColor() =&gt; Colors.deepPurple;\n\n  @override\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      \"counterType\": counterType,\n      \"id\": id,\n      \"name\": name,\n      \"value\": value,\n      \"stepSize\": stepSize,\n      \"holdDuration\": holdDuration,\n      \"lastUpdated\": lastUpdated?.toIso8601String(),\n      \"updates\": updates.map((e) =&gt; e.toIso8601String()).toList(),\n    };\n  }\n\n  @override\n  bool validate() {\n    return super.validate() &amp;&amp; stepSize &gt; 0 &amp;&amp; holdDuration &gt; 0;\n  }\n\n  @override\n  Widget? getStatisticsPage(int index) {\n    // Return custom statistics page if needed\n    return null;\n  }\n\n  Future&lt;bool&gt; _showLongPressDialog(BuildContext context) async {\n    bool wasHeld = false;\n\n    await showDialog(\n      context: context,\n      builder: (context) {\n        return AlertDialog(\n          title: Text(\"Hold to Update $name\"),\n          content: GestureDetector(\n            onLongPress: () {\n              wasHeld = true;\n              Navigator.pop(context);\n            },\n            onLongPressStart: (_) {\n              // Visual feedback\n            },\n            child: Container(\n              height: 100,\n              alignment: Alignment.center,\n              child: const Text(\"Press and hold...\"),\n            ),\n          ),\n        );\n      },\n    );\n\n    return wasHeld;\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-4-create-configuration-page","title":"Step 4: Create Configuration Page","text":"<p>Create a UI for users to configure your counter:</p> lib/counters/long_press_counter/long_press_counter_config.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:countapp/providers/counter_provider.dart\";\nimport \"package:countapp/utils/constants.dart\";\nimport \"package:countapp/utils/widgets.dart\";\nimport \"package:flutter/material.dart\";\nimport \"package:flutter/services.dart\";\nimport \"package:provider/provider.dart\";\n\nclass LongPressCounterConfigPage extends StatefulWidget {\n  const LongPressCounterConfigPage({super.key});\n\n  @override\n  LongPressCounterConfigPageState createState() =&gt;\n      LongPressCounterConfigPageState();\n}\n\nclass LongPressCounterConfigPageState\n    extends State&lt;LongPressCounterConfigPage&gt; {\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  String _name = \"\";\n  int _stepSize = AppConstants.defaultStepSize;\n  int _initialCount = AppConstants.defaultInitialValue;\n  int _holdDuration = 500; // Default 500ms\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text(\"Create Long Press Counter\")),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Form(\n          key: _formKey,\n          child: ListView(\n            children: [\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Counter Name\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.edit),\n                ),\n                onChanged: (value) =&gt; _name = value,\n                validator: (value) {\n                  if (value == null || value.isEmpty) {\n                    return \"Please enter a name\";\n                  }\n                  return null;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Step Size\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.add),\n                ),\n                keyboardType: TextInputType.number,\n                inputFormatters: [FilteringTextInputFormatter.digitsOnly],\n                initialValue: _stepSize.toString(),\n                onChanged: (value) {\n                  _stepSize = int.tryParse(value) ?? AppConstants.defaultStepSize;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Hold Duration (ms)\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.timer),\n                  helperText: \"How long to hold (milliseconds)\",\n                ),\n                keyboardType: TextInputType.number,\n                inputFormatters: [FilteringTextInputFormatter.digitsOnly],\n                initialValue: _holdDuration.toString(),\n                onChanged: (value) {\n                  _holdDuration = int.tryParse(value) ?? 500;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Initial Count\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.looks_one),\n                ),\n                keyboardType: TextInputType.number,\n                initialValue: _initialCount.toString(),\n                onChanged: (value) {\n                  _initialCount =\n                      int.tryParse(value) ?? AppConstants.defaultInitialValue;\n                },\n              ),\n            ],\n          ),\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          if (_formKey.currentState!.validate()) {\n            final newCounter = LongPressCounter(\n              name: _name,\n              value: _initialCount,\n              stepSize: _stepSize,\n              holdDuration: _holdDuration,\n              lastUpdated: DateTime.now(),\n            );\n\n            Provider.of&lt;CounterProvider&gt;(context, listen: false)\n                .addCounter(newCounter);\n\n            if (context.mounted) {\n              ScaffoldMessenger.of(context).showSnackBar(\n                buildAppSnackBar(\"Counter Added Successfully!\"),\n              );\n              Navigator.pop(context);\n            }\n          }\n        },\n        tooltip: \"Add Counter\",\n        child: const Icon(Icons.add),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-5-register-in-counter-factory","title":"Step 5: Register in Counter Factory","text":"<p>Update the <code>CounterFactory</code> to recognize your new counter type:</p> lib/counters/base/counter_factory.dart<pre><code>import \"package:countapp/counters/base/base_counter.dart\";\nimport \"package:countapp/counters/tap_counter/tap_counter.dart\";\nimport \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\n\nclass CounterFactory {\n  static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n    final type = json[\"counterType\"] as String?;\n\n    switch (type) {\n      case \"tap\":\n        return TapCounter.fromJson(json);\n      case \"long_press\":  // Add your counter type\n        return LongPressCounter.fromJson(json);\n      default:\n        throw ArgumentError(\"Unknown counter type: $type\");\n    }\n  }\n\n  static List&lt;String&gt; getSupportedTypes() {\n    return [\"tap\", \"long_press\"];  // Add to list\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-6-update-type-selection-ui","title":"Step 6: Update Type Selection UI","text":"<p>If you have a counter type selection page, update it to include your new type:</p> lib/screens/add_counter_page.dart<pre><code>// In your counter type selection page\nfinal counterTypes = [\n  {\n    \"type\": \"tap\",\n    \"name\": \"Tap Counter\",\n    \"icon\": Icons.touch_app,\n  },\n  {\n    \"type\": \"long_press\",\n    \"name\": \"Long Press Counter\",\n    \"icon\": Icons.touch_app,\n  },\n];\n</code></pre>"},{"location":"guides/adding-counter-types/#step-7-generate-code","title":"Step 7: Generate Code","text":"<p>Generate Hive adapters for your new counter:</p> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <p>This creates:</p> <ul> <li><code>long_press_counter.g.dart</code> with the <code>LongPressCounterAdapter</code></li> <li>Updates <code>hive_registrar.g.dart</code> to register the adapter</li> </ul>"},{"location":"guides/adding-counter-types/#step-8-update-main-registration","title":"Step 8: Update Main Registration","text":"<p>The Hive registrar automatically includes your adapter, but verify in <code>main.dart</code>:</p> lib/main.dart<pre><code>import \"package:countapp/hive_registrar.g.dart\";\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Hive.initFlutter();\n\n  // Automatic registration via generated code\n  Hive.registerAdapters();\n\n  // ... rest of initialization\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-9-test-your-counter","title":"Step 9: Test Your Counter","text":"<p>Run comprehensive tests:</p> test/long_press_counter_test.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:flutter_test/flutter_test.dart\";\n\nvoid main() {\n  group(\"LongPressCounter\", () {\n    test(\"creates with correct properties\", () {\n      final counter = LongPressCounter(\n        name: \"Test\",\n        value: 0,\n        stepSize: 5,\n        holdDuration: 1000,\n      );\n\n      expect(counter.name, \"Test\");\n      expect(counter.value, 0);\n      expect(counter.stepSize, 5);\n      expect(counter.holdDuration, 1000);\n      expect(counter.counterType, \"long_press\");\n    });\n\n    test(\"serializes to JSON correctly\", () {\n      final counter = LongPressCounter(\n        name: \"Test\",\n        value: 10,\n        stepSize: 5,\n        holdDuration: 1000,\n      );\n\n      final json = counter.toJson();\n\n      expect(json[\"counterType\"], \"long_press\");\n      expect(json[\"name\"], \"Test\");\n      expect(json[\"value\"], 10);\n      expect(json[\"stepSize\"], 5);\n      expect(json[\"holdDuration\"], 1000);\n    });\n\n    test(\"deserializes from JSON correctly\", () {\n      final json = {\n        \"counterType\": \"long_press\",\n        \"id\": \"test-id\",\n        \"name\": \"Test\",\n        \"value\": 10,\n        \"stepSize\": 5,\n        \"holdDuration\": 1000,\n        \"lastUpdated\": null,\n        \"updates\": [],\n      };\n\n      final counter = LongPressCounter.fromJson(json);\n\n      expect(counter.name, \"Test\");\n      expect(counter.value, 10);\n      expect(counter.stepSize, 5);\n      expect(counter.holdDuration, 1000);\n    });\n\n    test(\"validates correctly\", () {\n      final validCounter = LongPressCounter(\n        name: \"Valid\",\n        value: 0,\n        stepSize: 1,\n        holdDuration: 500,\n      );\n      expect(validCounter.validate(), true);\n\n      final invalidCounter = LongPressCounter(\n        name: \"\",\n        value: 0,\n        stepSize: 0,\n        holdDuration: 0,\n      );\n      expect(invalidCounter.validate(), false);\n    });\n  });\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-10-add-statistics-optional","title":"Step 10: Add Statistics (Optional)","text":"<p>If your counter needs custom statistics:</p> lib/counters/long_press_counter/long_press_counter_statistics.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:countapp/utils/statistics.dart\";\nimport \"package:flutter/material.dart\";\n\nclass LongPressCounterStatisticsPage extends StatelessWidget {\n  const LongPressCounterStatisticsPage({\n    super.key,\n    required this.counter,\n    required this.index,\n  });\n\n  final LongPressCounter counter;\n  final int index;\n\n  @override\n  Widget build(BuildContext context) {\n    // Use DateStatistics utilities\n    final stats = DateStatistics.groupUpdatesByDay(counter.updates);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"${counter.name} Statistics\"),\n      ),\n      body: ListView(\n        padding: const EdgeInsets.all(16),\n        children: [\n          _buildSummaryCard(),\n          const SizedBox(height: 16),\n          _buildChartCard(stats),\n          // Add more custom statistics\n        ],\n      ),\n    );\n  }\n\n  Widget _buildSummaryCard() {\n    // Custom statistics implementation\n    return Card(\n      child: Padding(\n        padding: const EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              \"Total Updates: ${counter.updates.length}\",\n              style: const TextStyle(fontSize: 18),\n            ),\n            // Add more summary stats\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildChartCard(Map&lt;DateTime, int&gt; stats) {\n    // Chart implementation\n    return Card(\n      child: Container(),\n    );\n  }\n}\n</code></pre> <p>Then update your counter class:</p> <pre><code>@override\nWidget? getStatisticsPage(int index) {\n  return LongPressCounterStatisticsPage(counter: this, index: index);\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#files-you-need-to-modify","title":"Files You Need to Modify","text":"<p>Summary of all files involved:</p>"},{"location":"guides/adding-counter-types/#new-files-to-create","title":"New Files to Create","text":"File Purpose <code>lib/counters/long_press_counter/long_press_counter.dart</code> Main counter class <code>lib/counters/long_press_counter/long_press_counter_config.dart</code> Configuration UI <code>lib/counters/long_press_counter/long_press_counter_statistics.dart</code> Statistics page (optional) <code>lib/counters/long_press_counter/long_press_counter_updates.dart</code> Updates history (optional) <code>test/long_press_counter_test.dart</code> Unit tests"},{"location":"guides/adding-counter-types/#files-to-modify","title":"Files to Modify","text":"File Changes Required <code>lib/counters/base/counter_factory.dart</code> Add case for new counter type <code>lib/screens/add_counter_page.dart</code> Add to type selection list"},{"location":"guides/adding-counter-types/#auto-generated-files","title":"Auto-Generated Files","text":"File Generated By <code>lib/counters/long_press_counter/long_press_counter.g.dart</code> build_runner <code>lib/hive_registrar.g.dart</code> build_runner (updated)"},{"location":"guides/adding-counter-types/#best-practices","title":"Best Practices","text":""},{"location":"guides/adding-counter-types/#naming-conventions","title":"Naming Conventions","text":"<pre><code>// Good\nclass TapCounter extends BaseCounter { }\nclass LongPressCounter extends BaseCounter { }\nclass SwipeCounter extends BaseCounter { }\n\n// Bad\nclass Counter1 extends BaseCounter { }\nclass MyCounter extends BaseCounter { }\n</code></pre>"},{"location":"guides/adding-counter-types/#type-ids","title":"Type IDs","text":"<p>Choose unique Hive typeIds:</p> <pre><code>// Reserve typeId ranges\n// 0: CounterAdapter (legacy)\n// 1: TapCounter\n// 2: (previously TapDirection, now unused)\n// 3-10: Future counter types\n// 11-20: Custom adapters\n</code></pre>"},{"location":"guides/adding-counter-types/#validation","title":"Validation","text":"<p>Always validate in both UI and model:</p> <pre><code>@override\nbool validate() {\n  return super.validate() &amp;&amp;\n         stepSize &gt; 0 &amp;&amp;\n         holdDuration &gt; 0 &amp;&amp;\n         holdDuration &lt; 10000; // Reasonable limits\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#error-handling","title":"Error Handling","text":"<pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  try {\n    // Counter logic\n    return true;\n  } catch (e) {\n    if (context.mounted) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(content: Text(\"Error: $e\")),\n      );\n    }\n    return false;\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#advanced-features","title":"Advanced Features","text":""},{"location":"guides/adding-counter-types/#custom-animations","title":"Custom Animations","text":"<pre><code>@override\nWidget buildIcon() {\n  return TweenAnimationBuilder(\n    tween: Tween&lt;double&gt;(begin: 0.8, end: 1.0),\n    duration: const Duration(milliseconds: 300),\n    builder: (context, value, child) {\n      return Transform.scale(\n        scale: value,\n        child: CircleAvatar(\n          backgroundColor: getColor(),\n          child: const Icon(Icons.touch_app),\n        ),\n      );\n    },\n  );\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#platform-specific-behavior","title":"Platform-Specific Behavior","text":"<pre><code>import \"dart:io\";\n\n@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  if (Platform.isAndroid || Platform.isIOS) {\n    // Mobile-specific behavior\n    await HapticFeedback.mediumImpact();\n  }\n  // Standard behavior\n  return true;\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#custom-serialization","title":"Custom Serialization","text":"<pre><code>@override\nMap&lt;String, dynamic&gt; toJson() {\n  final json = super.toJson();\n  json.addAll({\n    \"customField\": _customValue,\n    \"metadata\": {\n      \"createdAt\": _createdAt.toIso8601String(),\n      \"version\": \"2.0\",\n    },\n  });\n  return json;\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/adding-counter-types/#issue-type-adapter-not-found","title":"Issue: Type adapter not found","text":"<p>Cause: Code generation not run or adapter not registered</p> <p>Solution:</p> <pre><code>dart run build_runner clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"guides/adding-counter-types/#issue-factory-doesnt-recognize-type","title":"Issue: Factory doesn't recognize type","text":"<p>Cause: Counter type string mismatch</p> <p>Solution: Ensure <code>counterType</code> getter matches factory case:</p> <pre><code>@override\nString get counterType =&gt; \"long_press\"; // Must match factory\n</code></pre>"},{"location":"guides/adding-counter-types/#issue-json-deserialization-fails","title":"Issue: JSON deserialization fails","text":"<p>Cause: Missing fields or type mismatch</p> <p>Solution: Add null safety and defaults:</p> <pre><code>factory LongPressCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n  return LongPressCounter(\n    stepSize: json[\"stepSize\"] as int? ?? 1, // Default value\n    // ...\n  );\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#complete-checklist","title":"Complete Checklist","text":"<ul> <li> Create counter class extending <code>BaseCounter</code></li> <li> Add Hive annotations with unique typeId</li> <li> Implement all required methods</li> <li> Create configuration page UI</li> <li> Add to <code>CounterFactory</code></li> <li> Run code generation</li> <li> Write unit tests</li> <li> Test serialization/deserialization</li> <li> Test with Hive persistence</li> <li> Add to type selection UI</li> <li> Create statistics page (optional)</li> <li> Document the counter type</li> <li> Update CHANGELOG</li> </ul>"},{"location":"guides/adding-counter-types/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference \u2192 - Detailed BaseCounter API</li> </ul> <p>Counter Type Added!</p> <p>You've successfully added a new counter type! Test thoroughly and consider contributing it back to the project.</p>"}]}