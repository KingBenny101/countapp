{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#count-app-documentation","title":"Count App Documentation","text":"<p>A Flutter counter app with extensible architecture, statistics, and cross-platform support.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Multiple counter types with extensible architecture</li> <li>Statistics and charts</li> <li>Local storage with Hive CE</li> <li>Dark/light themes</li> <li>JSON import/export</li> <li>Cross-platform (Android, Windows, Linux)</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Quick Start - Build and run the app</li> <li>API Reference - API documentation</li> <li>Adding Counter Types - Extend the app with new counter types</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>GitHub Issues</li> <li>Source Code</li> </ul>"},{"location":"api/base-counter/","title":"BaseCounter","text":""},{"location":"api/base-counter/#basecounter-api-reference","title":"BaseCounter API Reference","text":"<p><code>BaseCounter</code> is the abstract base class that all counter types must extend. It defines the contract for counter behavior and provides common functionality.</p>"},{"location":"api/base-counter/#class-definition","title":"Class Definition","text":"<pre><code>abstract class BaseCounter {\n  BaseCounter({\n    required this.id,\n    required this.name,\n    required this.value,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  }) : updates = updates ?? [];\n\n  // Properties and methods...\n}\n</code></pre> <p>Location: <code>lib/counters/base/base_counter.dart</code></p> <p>Package: <code>countapp</code></p>"},{"location":"api/base-counter/#properties","title":"Properties","text":""},{"location":"api/base-counter/#id","title":"id","text":"<pre><code>final String id;\n</code></pre> <p>Unique identifier for this counter instance, typically a UUID v4.</p> <ul> <li>Type: <code>String</code></li> <li>Required: Yes</li> <li>Immutable: Yes</li> <li>Generated: Automatically via <code>Uuid().v4()</code> if not provided</li> </ul> <p>Example:</p> <pre><code>\"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n</code></pre>"},{"location":"api/base-counter/#name","title":"name","text":"<pre><code>String name;\n</code></pre> <p>Display name of the counter shown in the UI.</p> <ul> <li>Type: <code>String</code></li> <li>Required: Yes</li> <li>Mutable: Yes (can be renamed)</li> <li>Validation: Must not be empty</li> </ul> <p>Example:</p> <pre><code>\"Daily Water Intake\"\n</code></pre>"},{"location":"api/base-counter/#value","title":"value","text":"<pre><code>int value;\n</code></pre> <p>Current count value of the counter.</p> <ul> <li>Type: <code>int</code></li> <li>Required: Yes</li> <li>Mutable: Yes (updated by interactions)</li> <li>Default: User-specified initial value</li> </ul> <p>Example:</p> <pre><code>42\n</code></pre>"},{"location":"api/base-counter/#lastupdated","title":"lastUpdated","text":"<pre><code>DateTime? lastUpdated;\n</code></pre> <p>Timestamp of the most recent update to this counter.</p> <ul> <li>Type: <code>DateTime?</code></li> <li>Required: No</li> <li>Nullable: Yes</li> <li>Updated: Automatically on each interaction</li> </ul> <p>Example:</p> <pre><code>DateTime(2025, 12, 10, 15, 30, 0)\n</code></pre>"},{"location":"api/base-counter/#updates","title":"updates","text":"<pre><code>List&lt;DateTime&gt; updates;\n</code></pre> <p>Complete history of all update timestamps in reverse chronological order (newest first).</p> <ul> <li>Type: <code>List&lt;DateTime&gt;</code></li> <li>Required: No (defaults to empty list or <code>[lastUpdated]</code>)</li> <li>Order: Newest first</li> <li>Usage: Statistics, charts, history</li> </ul> <p>Example:</p> <pre><code>[\n  DateTime(2025, 12, 10, 15, 30),\n  DateTime(2025, 12, 10, 14, 20),\n  DateTime(2025, 12, 09, 18, 45),\n]\n</code></pre>"},{"location":"api/base-counter/#abstract-properties","title":"Abstract Properties","text":"<p>These must be implemented by subclasses:</p>"},{"location":"api/base-counter/#countertype","title":"counterType","text":"<pre><code>String get counterType;\n</code></pre> <p>Unique type identifier for this counter implementation.</p> <ul> <li>Type: <code>String</code> (getter)</li> <li>Required: Yes</li> <li>Immutable: Yes</li> <li>Usage: Serialization, factory pattern, type identification</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nString get counterType =&gt; \"tap\";\n</code></pre> <p>Naming Convention: Use lowercase with underscores (e.g., <code>\"tap\"</code>, <code>\"long_press\"</code>, <code>\"swipe\"</code>).</p>"},{"location":"api/base-counter/#abstract-methods","title":"Abstract Methods","text":"<p>These must be implemented by subclasses:</p>"},{"location":"api/base-counter/#oninteraction","title":"onInteraction","text":"<pre><code>Future&lt;bool&gt; onInteraction(BuildContext context);\n</code></pre> <p>Handles user interaction with the counter. This is the core update logic.</p> <p>Parameters:</p> <ul> <li><code>context</code> (<code>BuildContext</code>): Flutter build context for showing dialogs, snackbars, etc.</li> </ul> <p>Returns: <code>Future&lt;bool&gt;</code></p> <ul> <li><code>true</code>: Counter was successfully updated</li> <li><code>false</code>: Update was cancelled or failed</li> </ul> <p>Responsibilities:</p> <ul> <li>Show confirmation dialogs if needed</li> <li>Update <code>value</code> based on counter logic</li> <li>Update <code>lastUpdated</code> timestamp</li> <li>Add to <code>updates</code> list</li> <li>Return success/failure status</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  if (requireConfirmation) {\n    final confirmed = await _showConfirmationDialog(context);\n    if (!confirmed) return false;\n  }\n\n  // Update logic\n  if (isIncrement) {\n    value += stepSize;\n  } else {\n    value -= stepSize;\n  }\n\n  final now = DateTime.now();\n  lastUpdated = now;\n  updates.insert(0, now);\n\n  return true;\n}\n</code></pre> <p>State Management</p> <p>Don't call <code>notifyListeners()</code> here. The <code>CounterProvider</code> handles state notifications after persistence.</p>"},{"location":"api/base-counter/#buildicon","title":"buildIcon","text":"<pre><code>Widget buildIcon();\n</code></pre> <p>Builds the icon widget displayed in the counter list.</p> <p>Returns: <code>Widget</code> - Icon representation of this counter type</p> <p>Responsibilities:</p> <ul> <li>Create distinctive icon for counter type</li> <li>Use <code>getColor()</code> for consistent theming</li> <li>Return a widget (typically <code>CircleAvatar</code> with an <code>Icon</code>)</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nWidget buildIcon() {\n  return CircleAvatar(\n    backgroundColor: getColor(),\n    child: Icon(\n      isIncrement ? Icons.add : Icons.remove,\n      color: Colors.white,\n      size: 24,\n    ),\n  );\n}\n</code></pre> <p>Best Practices:</p> <ul> <li>Use Material Icons</li> <li>Size icon appropriately (24-32px)</li> <li>Ensure good contrast</li> <li>Keep it simple and recognizable</li> </ul>"},{"location":"api/base-counter/#getsubtitle","title":"getSubtitle","text":"<pre><code>String getSubtitle();\n</code></pre> <p>Returns the subtitle text displayed under the counter name.</p> <p>Returns: <code>String</code> - Descriptive subtitle showing counter configuration</p> <p>Responsibilities:</p> <ul> <li>Show relevant configuration details</li> <li>Keep text concise</li> <li>Provide useful information at a glance</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nString getSubtitle() {\n  final sign = isIncrement ? \"+\" : \"-\";\n  return \"Step Size: $sign$stepSize\";\n}\n</code></pre> <p>Examples:</p> <ul> <li><code>\"Step Size: +5\"</code></li> <li><code>\"Hold 500ms \u2022 Step: +1\"</code></li> <li><code>\"Swipe Left/Right \u2022 \u00b110\"</code></li> </ul>"},{"location":"api/base-counter/#getcolor","title":"getColor","text":"<pre><code>Color getColor();\n</code></pre> <p>Returns the color used for this counter type in the UI.</p> <p>Returns: <code>Color</code> - Theme color for this counter type</p> <p>Responsibilities:</p> <ul> <li>Choose distinctive color per counter type</li> <li>Ensure accessibility (sufficient contrast)</li> <li>Use Material Design colors</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nColor getColor() =&gt; Colors.blueAccent;\n</code></pre> <p>Color Palette Suggestions:</p> <ul> <li><code>Colors.blueAccent</code> - Tap Counter</li> <li><code>Colors.deepPurple</code> - Long Press Counter</li> <li><code>Colors.green</code> - Swipe Counter</li> <li><code>Colors.orange</code> - Time-based Counter</li> </ul>"},{"location":"api/base-counter/#tojson","title":"toJson","text":"<pre><code>Map&lt;String, dynamic&gt; toJson();\n</code></pre> <p>Serializes the counter to JSON format for persistence and export.</p> <p>Returns: <code>Map&lt;String, dynamic&gt;</code> - JSON representation</p> <p>Responsibilities:</p> <ul> <li>Include <code>counterType</code> for factory deserialization</li> <li>Serialize all properties</li> <li>Convert <code>DateTime</code> to ISO 8601 strings</li> <li>Handle nested objects</li> </ul> <p>Example Implementation:</p> <pre><code>@override\nMap&lt;String, dynamic&gt; toJson() {\n  return {\n    \"counterType\": counterType,\n    \"id\": id,\n    \"name\": name,\n    \"value\": value,\n    \"stepSize\": stepSize,\n    \"isIncrement\": isIncrement,\n    \"requireConfirmation\": requireConfirmation,\n    \"lastUpdated\": lastUpdated?.toIso8601String(),\n    \"updates\": updates.map((e) =&gt; e.toIso8601String()).toList(),\n  };\n}\n</code></pre> <p>JSON Schema Example:</p> <pre><code>{\n  \"counterType\": \"tap\",\n  \"id\": \"uuid-here\",\n  \"name\": \"Water Intake\",\n  \"value\": 8,\n  \"stepSize\": 1,\n  \"isIncrement\": true,\n  \"requireConfirmation\": true,\n  \"lastUpdated\": \"2025-12-10T15:30:00.000\",\n  \"updates\": [\"2025-12-10T15:30:00.000\", \"2025-12-10T14:20:00.000\"]\n}\n</code></pre>"},{"location":"api/base-counter/#virtual-methods","title":"Virtual Methods","text":"<p>These have default implementations but can be overridden:</p>"},{"location":"api/base-counter/#validate","title":"validate","text":"<pre><code>bool validate();\n</code></pre> <p>Validates the counter's configuration.</p> <p>Returns: <code>bool</code></p> <ul> <li><code>true</code>: Counter is valid</li> <li><code>false</code>: Counter has invalid configuration</li> </ul> <p>Default Implementation:</p> <pre><code>bool validate() {\n  return name.isNotEmpty;\n}\n</code></pre> <p>Override Example:</p> <pre><code>@override\nbool validate() {\n  return super.validate() &amp;&amp; stepSize &gt; 0 &amp;&amp; stepSize &lt;= 1000;\n}\n</code></pre> <p>Validation Rules:</p> <ul> <li>Always call <code>super.validate()</code></li> <li>Add type-specific validation</li> <li>Check ranges and constraints</li> <li>Return false for invalid state</li> </ul>"},{"location":"api/base-counter/#getstatisticspage","title":"getStatisticsPage","text":"<pre><code>Widget? getStatisticsPage(int index);\n</code></pre> <p>Returns a custom statistics page for this counter type, or null for default behavior.</p> <p>Parameters:</p> <ul> <li><code>index</code> (<code>int</code>): Counter's index in the provider list</li> </ul> <p>Returns: <code>Widget?</code></p> <ul> <li>Custom statistics widget</li> <li><code>null</code> to use default statistics or no statistics</li> </ul> <p>Default Implementation:</p> <pre><code>Widget? getStatisticsPage(int index) {\n  return null; // No custom statistics\n}\n</code></pre> <p>Override Example:</p> <pre><code>@override\nWidget? getStatisticsPage(int index) {\n  return TapCounterStatisticsPage(counter: this, index: index);\n}\n</code></pre>"},{"location":"api/base-counter/#constructor-pattern","title":"Constructor Pattern","text":"<p>Typical constructor implementation:</p> <pre><code>TapCounter({\n  String? id,\n  required this.name,\n  required this.value,\n  required this.stepSize,\n  required this.isIncrement,\n  this.requireConfirmation = true,\n  this.lastUpdated,\n  List&lt;DateTime&gt;? updates,\n})  : id = id ?? const Uuid().v4(),\n      updates = updates ?? (lastUpdated != null ? [lastUpdated] : []),\n      super(\n        id: id ?? const Uuid().v4(),\n        name: name,\n        value: value,\n        lastUpdated: lastUpdated,\n        updates: updates,\n      );\n</code></pre> <p>Key Points:</p> <ul> <li>Generate UUID if <code>id</code> not provided</li> <li>Initialize <code>updates</code> list appropriately</li> <li>Call <code>super()</code> with base properties</li> <li>Use named parameters</li> <li>Provide sensible defaults</li> </ul>"},{"location":"api/base-counter/#factory-pattern","title":"Factory Pattern","text":"<p>Each counter must have a <code>fromJson</code> factory:</p> <pre><code>factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n  // Parse DateTime fields\n  final DateTime? lastUpdated = json[\"lastUpdated\"] != null\n      ? DateTime.parse(json[\"lastUpdated\"] as String)\n      : null;\n\n  return TapCounter(\n    id: json[\"id\"] as String?,\n    name: json[\"name\"] as String,\n    value: json[\"value\"] as int,\n    stepSize: json[\"stepSize\"] as int,\n    isIncrement: json[\"isIncrement\"] as bool,\n    requireConfirmation: json[\"requireConfirmation\"] as bool? ?? true,\n    lastUpdated: lastUpdated,\n    updates: (json[\"updates\"] as List&lt;dynamic&gt;?)\n            ?.map((e) =&gt; DateTime.parse(e as String))\n            .toList() ??\n        (lastUpdated != null ? [lastUpdated] : []),\n  );\n}\n</code></pre> <p>Best Practices:</p> <ul> <li>Handle null values with defaults</li> <li>Parse DateTime strings correctly</li> <li>Support backward compatibility</li> <li>Use type casts safely (<code>as</code>, <code>as?</code>)</li> </ul>"},{"location":"api/base-counter/#usage-examples","title":"Usage Examples","text":""},{"location":"api/base-counter/#creating-a-counter","title":"Creating a Counter","text":"<pre><code>final counter = TapCounter(\n  name: \"Daily Steps\",\n  value: 0,\n  stepSize: 100,\n  isIncrement: true,\n  lastUpdated: DateTime.now(),\n);\n</code></pre>"},{"location":"api/base-counter/#updating-a-counter","title":"Updating a Counter","text":"<pre><code>final success = await counter.onInteraction(context);\nif (success) {\n  // Persist to storage\n  await provider.saveCounter(index, counter);\n}\n</code></pre>"},{"location":"api/base-counter/#serialization","title":"Serialization","text":"<pre><code>// To JSON\nfinal json = counter.toJson();\nfinal jsonString = jsonEncode(json);\n\n// From JSON\nfinal decoded = jsonDecode(jsonString);\nfinal counter = CounterFactory.fromJson(decoded);\n</code></pre>"},{"location":"api/base-counter/#validation","title":"Validation","text":"<pre><code>if (counter.validate()) {\n  await provider.addCounter(counter);\n} else {\n  showErrorDialog(\"Invalid counter configuration\");\n}\n</code></pre>"},{"location":"api/base-counter/#see-also","title":"See Also","text":"<ul> <li>CounterFactory - Dynamic counter instantiation</li> <li>TapCounter - Concrete implementation example</li> <li>Adding Counter Types - Implementation guide</li> <li>Architecture - System design</li> </ul>"},{"location":"api/base-counter/#related-types","title":"Related Types","text":"<ul> <li><code>CounterProvider</code> - State management for counters</li> <li><code>DateStatistics</code> - Utility for date-based analytics</li> <li><code>Uuid</code> - ID generation</li> </ul>"},{"location":"api/base-counter/#version-history","title":"Version History","text":"Version Changes 1.4.0 Added <code>getStatisticsPage()</code> for polymorphic statistics 1.3.0 Refactored to abstract base class pattern 1.2.0 Added <code>updates</code> list for history tracking 1.0.0 Initial implementation"},{"location":"api/counter-factory/","title":"CounterFactory","text":""},{"location":"api/counter-factory/#counterfactory-api-reference","title":"CounterFactory API Reference","text":"<p>The <code>CounterFactory</code> class provides factory methods for dynamically creating counter instances from JSON data.</p>"},{"location":"api/counter-factory/#class-definition","title":"Class Definition","text":"<pre><code>class CounterFactory {\n  static BaseCounter fromJson(Map&lt;String, dynamic&gt; json);\n  static List&lt;String&gt; getSupportedTypes();\n}\n</code></pre> <p>Location: <code>lib/counters/base/counter_factory.dart</code></p>"},{"location":"api/counter-factory/#methods","title":"Methods","text":""},{"location":"api/counter-factory/#fromjson","title":"fromJson","text":"<pre><code>static BaseCounter fromJson(Map&lt;String, dynamic&gt; json)\n</code></pre> <p>Creates a counter instance from JSON data by determining the type and delegating to the appropriate constructor.</p> <p>Parameters:</p> <ul> <li><code>json</code> (<code>Map&lt;String, dynamic&gt;</code>): JSON representation of a counter</li> </ul> <p>Returns: <code>BaseCounter</code> - Concrete counter instance</p> <p>Throws: <code>ArgumentError</code> if counter type is unknown</p> <p>Example:</p> <pre><code>final json = {\n  \"counterType\": \"tap\",\n  \"id\": \"abc-123\",\n  \"name\": \"Water\",\n  \"value\": 8,\n  // ... more fields\n};\n\nfinal counter = CounterFactory.fromJson(json);\n// Returns TapCounter instance\n</code></pre>"},{"location":"api/counter-factory/#getsupportedtypes","title":"getSupportedTypes","text":"<pre><code>static List&lt;String&gt; getSupportedTypes()\n</code></pre> <p>Returns a list of all supported counter type identifiers.</p> <p>Returns: <code>List&lt;String&gt;</code> - List of type identifiers</p> <p>Example:</p> <pre><code>final types = CounterFactory.getSupportedTypes();\n// Returns: [\"tap\", \"long_press\", ...]\n</code></pre>"},{"location":"api/counter-factory/#implementation","title":"Implementation","text":"<p>The factory uses a switch statement to determine which counter type to instantiate:</p> <pre><code>static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n  final type = json[\"counterType\"] as String?;\n\n  switch (type) {\n    case \"tap\":\n      return TapCounter.fromJson(json);\n    case \"long_press\":\n      return LongPressCounter.fromJson(json);\n    // Add more types here\n    default:\n      throw ArgumentError(\"Unknown counter type: $type\");\n  }\n}\n</code></pre>"},{"location":"api/counter-factory/#adding-new-counter-types","title":"Adding New Counter Types","text":"<p>When adding a new counter type:</p> <ol> <li>Import the counter class</li> <li>Add a case to the switch statement</li> <li>Add the type to <code>getSupportedTypes()</code></li> </ol> <p>Example:</p> <pre><code>import \"package:countapp/counters/swipe_counter/swipe_counter.dart\";\n\nstatic BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n  final type = json[\"counterType\"] as String?;\n\n  switch (type) {\n    case \"tap\":\n      return TapCounter.fromJson(json);\n    case \"swipe\":  // New type\n      return SwipeCounter.fromJson(json);\n    default:\n      throw ArgumentError(\"Unknown counter type: $type\");\n  }\n}\n</code></pre>"},{"location":"api/counter-factory/#usage-in-provider","title":"Usage in Provider","text":"<p>The factory is used by <code>CounterProvider</code> when loading counters:</p> <pre><code>Future&lt;void&gt; loadCounters() async {\n  final box = await _getBox();\n  _counters = box.values\n      .map((json) =&gt; CounterFactory.fromJson(\n            Map&lt;String, dynamic&gt;.from(json as Map)\n          ))\n      .toList();\n  notifyListeners();\n}\n</code></pre>"},{"location":"api/counter-factory/#see-also","title":"See Also","text":"<ul> <li>BaseCounter - Abstract base class</li> <li>TapCounter - Concrete implementation</li> <li>Adding Counter Types - Implementation guide</li> </ul>"},{"location":"api/counter-provider/","title":"CounterProvider","text":""},{"location":"api/counter-provider/#counterprovider-api-reference","title":"CounterProvider API Reference","text":"<p><code>CounterProvider</code> is the state management provider for counters, handling loading, saving, and updates.</p>"},{"location":"api/counter-provider/#class-definition","title":"Class Definition","text":"<pre><code>class CounterProvider with ChangeNotifier {\n  List&lt;BaseCounter&gt; _counters = [];\n  Box? _box;\n\n  List&lt;BaseCounter&gt; get counters =&gt; _counters;\n}\n</code></pre> <p>Location: <code>lib/providers/counter_provider.dart</code></p> <p>Pattern: Provider (ChangeNotifier)</p>"},{"location":"api/counter-provider/#properties","title":"Properties","text":""},{"location":"api/counter-provider/#counters","title":"counters","text":"<pre><code>List&lt;BaseCounter&gt; get counters =&gt; _counters;\n</code></pre> <p>Read-only access to the current list of counters.</p> <ul> <li>Type: <code>List&lt;BaseCounter&gt;</code></li> <li>Usage: Access via <code>Provider.of&lt;CounterProvider&gt;(context).counters</code></li> </ul>"},{"location":"api/counter-provider/#methods","title":"Methods","text":""},{"location":"api/counter-provider/#loadcounters","title":"loadCounters","text":"<pre><code>Future&lt;void&gt; loadCounters() async\n</code></pre> <p>Loads all counters from Hive storage using the factory pattern.</p> <p>Example:</p> <pre><code>await provider.loadCounters();\n</code></pre>"},{"location":"api/counter-provider/#addcounter","title":"addCounter","text":"<pre><code>Future&lt;void&gt; addCounter(BaseCounter counter) async\n</code></pre> <p>Adds a new counter to the list and persists to storage.</p> <p>Parameters:</p> <ul> <li><code>counter</code> (<code>BaseCounter</code>): Counter to add</li> </ul> <p>Side Effects:</p> <ul> <li>Adds to <code>_counters</code> list</li> <li>Persists to Hive box</li> <li>Calls <code>notifyListeners()</code></li> </ul>"},{"location":"api/counter-provider/#updatecounter","title":"updateCounter","text":"<pre><code>Future&lt;void&gt; updateCounter(BuildContext context, int index) async\n</code></pre> <p>Triggers counter interaction and persists changes if successful.</p> <p>Parameters:</p> <ul> <li><code>context</code> (<code>BuildContext</code>): For showing dialogs/snackbars</li> <li><code>index</code> (<code>int</code>): Index of counter in list</li> </ul> <p>Behavior:</p> <ol> <li>Calls <code>counter.onInteraction(context)</code></li> <li>If successful, persists to storage</li> <li>Notifies listeners</li> <li>Shows success snackbar</li> </ol>"},{"location":"api/counter-provider/#removecounter","title":"removeCounter","text":"<pre><code>Future&lt;void&gt; removeCounter(int index) async\n</code></pre> <p>Removes a single counter at the specified index.</p>"},{"location":"api/counter-provider/#removecounters","title":"removeCounters","text":"<pre><code>Future&lt;void&gt; removeCounters(List&lt;int&gt; indices) async\n</code></pre> <p>Removes multiple counters efficiently.</p> <p>Note: Indices are sorted in reverse to prevent shifting issues.</p>"},{"location":"api/counter-provider/#usage-examples","title":"Usage Examples","text":""},{"location":"api/counter-provider/#loading-counters","title":"Loading Counters","text":"<pre><code>final provider = Provider.of&lt;CounterProvider&gt;(context, listen: false);\nawait provider.loadCounters();\n</code></pre>"},{"location":"api/counter-provider/#adding-a-counter","title":"Adding a Counter","text":"<pre><code>final newCounter = TapCounter(\n  name: \"Water\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n);\n\nawait provider.addCounter(newCounter);\n</code></pre>"},{"location":"api/counter-provider/#updating-a-counter","title":"Updating a Counter","text":"<pre><code>await provider.updateCounter(context, 0);\n</code></pre>"},{"location":"api/counter-provider/#accessing-counters","title":"Accessing Counters","text":"<pre><code>Consumer&lt;CounterProvider&gt;(\n  builder: (context, provider, child) {\n    return ListView.builder(\n      itemCount: provider.counters.length,\n      itemBuilder: (context, index) {\n        final counter = provider.counters[index];\n        return ListTile(title: Text(counter.name));\n      },\n    );\n  },\n)\n</code></pre>"},{"location":"api/counter-provider/#see-also","title":"See Also","text":"<ul> <li>BaseCounter</li> <li>State Management</li> </ul>"},{"location":"api/tap-counter/","title":"TapCounter","text":""},{"location":"api/tap-counter/#tapcounter-api-reference","title":"TapCounter API Reference","text":"<p><code>TapCounter</code> is a concrete implementation of <code>BaseCounter</code> that updates its value when tapped, with configurable step size and direction.</p>"},{"location":"api/tap-counter/#class-definition","title":"Class Definition","text":"<pre><code>@HiveType(typeId: 1)\nclass TapCounter extends BaseCounter {\n  TapCounter({\n    String? id,\n    required this.name,\n    required this.value,\n    required this.stepSize,\n    required this.isIncrement,\n    this.requireConfirmation = true,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  });\n\n  factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json);\n}\n</code></pre> <p>Location: <code>lib/counters/tap_counter/tap_counter.dart</code></p> <p>Hive TypeId: <code>1</code></p>"},{"location":"api/tap-counter/#properties","title":"Properties","text":""},{"location":"api/tap-counter/#stepsize","title":"stepSize","text":"<pre><code>@HiveField(0)\nfinal int stepSize;\n</code></pre> <p>The amount by which the counter value changes on each update.</p> <ul> <li>Type: <code>int</code></li> <li>Required: Yes</li> <li>Validation: Must be &gt; 0</li> <li>Example: <code>1</code>, <code>5</code>, <code>10</code>, <code>100</code></li> </ul>"},{"location":"api/tap-counter/#isincrement","title":"isIncrement","text":"<pre><code>@HiveField(1)\nfinal bool isIncrement;\n</code></pre> <p>Direction of updates. <code>true</code> for increment, <code>false</code> for decrement.</p> <ul> <li>Type: <code>bool</code></li> <li>Required: Yes</li> <li>Default: <code>true</code> (increment)</li> <li>Behavior:</li> <li><code>true</code>: Adds <code>stepSize</code> to value</li> <li><code>false</code>: Subtracts <code>stepSize</code> from value</li> </ul>"},{"location":"api/tap-counter/#requireconfirmation","title":"requireConfirmation","text":"<pre><code>@HiveField(2)\nfinal bool requireConfirmation;\n</code></pre> <p>Whether to show a confirmation dialog before updating.</p> <ul> <li>Type: <code>bool</code></li> <li>Required: No</li> <li>Default: <code>true</code></li> <li>UI Impact: When <code>true</code>, shows dialog before each update</li> </ul>"},{"location":"api/tap-counter/#methods","title":"Methods","text":""},{"location":"api/tap-counter/#oninteraction","title":"onInteraction","text":"<pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async\n</code></pre> <p>Handles tap interaction, optionally showing confirmation dialog, then updates the counter value.</p> <p>Behavior:</p> <ol> <li>Show confirmation dialog if <code>requireConfirmation</code> is true</li> <li>Update <code>value</code> by <code>stepSize</code> (add if increment, subtract if decrement)</li> <li>Update <code>lastUpdated</code> timestamp</li> <li>Add timestamp to <code>updates</code> list</li> <li>Return success status</li> </ol> <p>Example:</p> <pre><code>final success = await counter.onInteraction(context);\nif (success) {\n  print(\"Counter updated to ${counter.value}\");\n}\n</code></pre>"},{"location":"api/tap-counter/#buildicon","title":"buildIcon","text":"<pre><code>@override\nWidget buildIcon()\n</code></pre> <p>Returns a blue CircleAvatar with plus or minus icon based on direction.</p> <p>Icon Selection:</p> <ul> <li><code>isIncrement == true</code>: <code>Icons.add</code></li> <li><code>isIncrement == false</code>: <code>Icons.remove</code></li> </ul>"},{"location":"api/tap-counter/#getsubtitle","title":"getSubtitle","text":"<pre><code>@override\nString getSubtitle()\n</code></pre> <p>Returns a string showing step size with direction sign.</p> <p>Format: <code>\"Step Size: +X\"</code> or <code>\"Step Size: -X\"</code></p> <p>Examples:</p> <ul> <li><code>\"Step Size: +1\"</code></li> <li><code>\"Step Size: -5\"</code></li> </ul>"},{"location":"api/tap-counter/#getcolor","title":"getColor","text":"<pre><code>@override\nColor getColor()\n</code></pre> <p>Returns <code>Colors.blueAccent</code> for TapCounter.</p>"},{"location":"api/tap-counter/#tojson","title":"toJson","text":"<pre><code>@override\nMap&lt;String, dynamic&gt; toJson()\n</code></pre> <p>Serializes the counter to JSON format.</p> <p>JSON Schema:</p> <pre><code>{\n  \"counterType\": \"tap\",\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"value\": 0,\n  \"stepSize\": 0,\n  \"isIncrement\": true,\n  \"requireConfirmation\": true,\n  \"lastUpdated\": \"ISO8601 string or null\",\n  \"updates\": [\"ISO8601 strings\"]\n}\n</code></pre>"},{"location":"api/tap-counter/#validate","title":"validate","text":"<pre><code>@override\nbool validate()\n</code></pre> <p>Validates that name is not empty and stepSize is positive.</p> <p>Returns: <code>true</code> if valid, <code>false</code> otherwise</p>"},{"location":"api/tap-counter/#getstatisticspage","title":"getStatisticsPage","text":"<pre><code>@override\nWidget? getStatisticsPage(int index)\n</code></pre> <p>Returns a <code>TapCounterStatisticsPage</code> with detailed analytics.</p>"},{"location":"api/tap-counter/#factory-constructor","title":"Factory Constructor","text":""},{"location":"api/tap-counter/#fromjson","title":"fromJson","text":"<pre><code>factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json)\n</code></pre> <p>Creates a TapCounter from JSON with backward compatibility.</p> <p>Backward Compatibility:</p> <ul> <li>Supports old <code>\"type\"</code> field (v1.3.9 and earlier)</li> <li>Supports old <code>\"direction\"</code> field (enum format)</li> <li>Supports new <code>\"isIncrement\"</code> field (boolean format)</li> </ul> <p>Example:</p> <pre><code>// Old format (still supported)\nfinal oldJson = {\n  \"counterType\": \"tap\",\n  \"type\": \"increment\",  // Old field\n  // ...\n};\n\n// New format\nfinal newJson = {\n  \"counterType\": \"tap\",\n  \"isIncrement\": true,  // New field\n  // ...\n};\n\nfinal counter1 = TapCounter.fromJson(oldJson);\nfinal counter2 = TapCounter.fromJson(newJson);\n</code></pre>"},{"location":"api/tap-counter/#usage-examples","title":"Usage Examples","text":""},{"location":"api/tap-counter/#creating-a-counter","title":"Creating a Counter","text":"<pre><code>final counter = TapCounter(\n  name: \"Daily Steps\",\n  value: 0,\n  stepSize: 100,\n  isIncrement: true,\n  requireConfirmation: false,\n  lastUpdated: DateTime.now(),\n);\n</code></pre>"},{"location":"api/tap-counter/#increment-counter","title":"Increment Counter","text":"<pre><code>final incrementCounter = TapCounter(\n  name: \"Glasses of Water\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n);\n</code></pre>"},{"location":"api/tap-counter/#decrement-counter","title":"Decrement Counter","text":"<pre><code>final decrementCounter = TapCounter(\n  name: \"Days Until Deadline\",\n  value: 30,\n  stepSize: 1,\n  isIncrement: false,\n);\n</code></pre>"},{"location":"api/tap-counter/#quick-update-no-confirmation","title":"Quick Update (No Confirmation)","text":"<pre><code>final quickCounter = TapCounter(\n  name: \"Quick Count\",\n  value: 0,\n  stepSize: 1,\n  isIncrement: true,\n  requireConfirmation: false,  // No dialog\n);\n</code></pre>"},{"location":"api/tap-counter/#statistics-page","title":"Statistics Page","text":"<p>The <code>TapCounterStatisticsPage</code> provides:</p> <ul> <li>Daily update frequency chart</li> <li>Total updates count</li> <li>Average updates per day</li> <li>Most active day</li> <li>Day-of-week analysis</li> <li>Time window analysis</li> <li>Update history timeline</li> </ul> <p>Access via:</p> <pre><code>final statsPage = counter.getStatisticsPage(index);\nNavigator.push(context, MaterialPageRoute(builder: (_) =&gt; statsPage!));\n</code></pre>"},{"location":"api/tap-counter/#see-also","title":"See Also","text":"<ul> <li>BaseCounter - Base class documentation</li> <li>CounterFactory - Factory pattern</li> <li>Adding Counter Types - Create custom counters</li> </ul>"},{"location":"architecture/core-concepts/","title":"Core Concepts","text":""},{"location":"architecture/core-concepts/#core-concepts","title":"Core Concepts","text":""},{"location":"architecture/core-concepts/#counter-abstraction","title":"Counter Abstraction","text":"<p>All counters extend the <code>BaseCounter</code> abstract class, enabling polymorphism and extensibility.</p> <p>Benefits:</p> <ul> <li>Add new counter types without modifying existing code</li> <li>Consistent interface for UI</li> <li>Easy testing through common interface</li> </ul>"},{"location":"architecture/core-concepts/#state-management","title":"State Management","text":"<p>Uses the Provider pattern with <code>ChangeNotifier</code>:</p> <pre><code>// Provider holds state\nclass CounterProvider extends ChangeNotifier {\n  List&lt;BaseCounter&gt; counters = [];\n\n  Future&lt;void&gt; updateCounter(int index) async {\n    await counters[index].onInteraction(context);\n    notifyListeners(); // UI rebuilds\n    await _saveCounters();\n  }\n}\n</code></pre> <p>Flow:</p> <ol> <li>UI reads state from Provider</li> <li>User action triggers Provider method</li> <li>Provider updates state</li> <li><code>notifyListeners()</code> rebuilds UI</li> <li>Changes persisted to storage</li> </ol>"},{"location":"architecture/core-concepts/#data-persistence","title":"Data Persistence","text":"<p>Hive CE provides type-safe binary storage:</p> <ul> <li>Fast local database</li> <li>Generated type adapters</li> <li>Automatic serialization</li> <li>Cross-platform support</li> </ul> <p>Type Adapters:</p> <pre><code>@HiveType(typeId: 1)\nclass TapCounter extends BaseCounter {\n  @HiveField(0)\n  final int stepSize;\n\n  // ... fields with @HiveField annotations\n}\n</code></pre> <p>Generate with: <code>dart run build_runner build</code></p>"},{"location":"architecture/core-concepts/#factory-pattern","title":"Factory Pattern","text":"<p><code>CounterFactory</code> creates counters from JSON:</p> <pre><code>BaseCounter counter = CounterFactory.fromJson({\n  \"counterType\": \"tap\",\n  \"name\": \"My Counter\",\n  // ...\n});\n</code></pre> <p>This enables:</p> <ul> <li>Import/export functionality</li> <li>Dynamic counter creation</li> <li> <p>Type-safe deserialization</p> </li> <li> <p>Type Safety: Generated adapters prevent serialization errors</p> </li> <li>Performance: Binary format is fast and compact</li> <li>Cross-Platform: Works identically on all platforms</li> <li>No Dependencies: Pure Dart, no native code</li> <li>Simple API: Boxes work like key-value stores</li> </ul>"},{"location":"architecture/core-concepts/#type-adapters","title":"Type Adapters","text":"<p>Type adapters bridge the gap between Dart objects and binary storage:</p> <pre><code>@HiveType(typeId: 1)\nclass TapCounter extends BaseCounter {\n  @HiveField(0)\n  final int stepSize;\n\n  @HiveField(1)\n  final bool isIncrement;\n\n  // ... more fields\n}\n\n// Generated adapter handles serialization\nclass TapCounterAdapter extends TypeAdapter&lt;TapCounter&gt; {\n  @override\n  TapCounter read(BinaryReader reader) { /* ... */ }\n\n  @override\n  void write(BinaryWriter writer, TapCounter obj) { /* ... */ }\n}\n</code></pre> <p>Type IDs:</p> <ul> <li>Must be unique per type</li> <li>Immutable once in production</li> <li>Used to identify types during deserialization</li> </ul>"},{"location":"architecture/core-concepts/#factory-pattern_1","title":"Factory Pattern","text":"<p>The <code>CounterFactory</code> enables dynamic type instantiation from JSON:</p> <pre><code>static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n  final type = json[\"counterType\"] as String?;\n\n  switch (type) {\n    case \"tap\":\n      return TapCounter.fromJson(json);\n    case \"long_press\":\n      return LongPressCounter.fromJson(json);\n    // More types...\n    default:\n      throw ArgumentError(\"Unknown counter type: $type\");\n  }\n}\n</code></pre> <p>Usage Pattern:</p> <pre><code>graph LR\n    A[JSON Data] --&gt;|CounterFactory| B{Determine Type}\n    B --&gt;|\"type: tap\"| C[TapCounter]\n    B --&gt;|\"type: long_press\"| D[LongPressCounter]\n    B --&gt;|Unknown| E[Exception]\n\n    C --&gt; F[BaseCounter Instance]\n    D --&gt; F\n\n    style B fill:#fff4e1</code></pre> <p>Benefits:</p> <ul> <li>Decouples deserialization from specific types</li> <li>Centralizes type registration</li> <li>Easy to extend with new types</li> </ul>"},{"location":"architecture/core-concepts/#counter-lifecycle","title":"Counter Lifecycle","text":""},{"location":"architecture/core-concepts/#creation","title":"Creation","text":"<pre><code>graph TD\n    A[User taps Add] --&gt; B[Select Counter Type]\n    B --&gt; C[Fill Configuration Form]\n    C --&gt; D[Validate Input]\n    D --&gt;|Valid| E[Create Counter Instance]\n    D --&gt;|Invalid| C\n    E --&gt; F[Add to Provider]\n    F --&gt; G[Persist to Hive]\n    G --&gt; H[UI Updates]\n\n    style E fill:#e1f5ff</code></pre>"},{"location":"architecture/core-concepts/#update","title":"Update","text":"<pre><code>graph TD\n    A[User taps Counter] --&gt; B[counter.onInteraction]\n    B --&gt; C{Needs Confirmation?}\n    C --&gt;|Yes| D[Show Dialog]\n    C --&gt;|No| E[Update Value]\n    D --&gt;|Confirmed| E\n    D --&gt;|Cancelled| F[Return false]\n    E --&gt; G[Update lastUpdated]\n    G --&gt; H[Add to updates list]\n    H --&gt; I[Return true]\n    I --&gt; J[Provider persists]\n    J --&gt; K[UI rebuilds]\n\n    style E fill:#e1ffe1</code></pre>"},{"location":"architecture/core-concepts/#deletion","title":"Deletion","text":"<pre><code>graph TD\n    A[User selects Counter] --&gt; B[Tap Delete]\n    B --&gt; C[Confirm Deletion]\n    C --&gt;|Yes| D[Remove from Provider]\n    C --&gt;|No| A\n    D --&gt; E[Delete from Hive]\n    E --&gt; F[Notify Listeners]\n    F --&gt; G[UI Updates]</code></pre>"},{"location":"architecture/core-concepts/#data-flow-architecture","title":"Data Flow Architecture","text":""},{"location":"architecture/core-concepts/#unidirectional-data-flow","title":"Unidirectional Data Flow","text":"<pre><code>graph TB\n    A[User Action] --&gt; B[Event Handler]\n    B --&gt; C[Provider Method]\n    C --&gt; D[Update State]\n    D --&gt; E[Persist to Storage]\n    E --&gt; F[Notify Listeners]\n    F --&gt; G[UI Rebuilds]\n    G --&gt; H[Display New State]\n\n    style C fill:#ffe1e1\n    style D fill:#ffe1e1</code></pre> <p>Rules:</p> <ol> <li>Actions trigger state changes through providers</li> <li>State is updated in one place (provider)</li> <li>Persistence happens automatically</li> <li>UI reacts to state changes</li> </ol>"},{"location":"architecture/core-concepts/#read-vs-write-operations","title":"Read vs Write Operations","text":"<p>Read Operations (Fast):</p> <pre><code>// Direct access, no async\nfinal counters = Provider.of&lt;CounterProvider&gt;(context).counters;\nfinal counter = counters[index];\n</code></pre> <p>Write Operations (Async):</p> <pre><code>// Async for persistence\nawait provider.addCounter(counter);\nawait provider.updateCounter(context, index);\nawait provider.removeCounter(index);\n</code></pre>"},{"location":"architecture/core-concepts/#json-serialization","title":"JSON Serialization","text":""},{"location":"architecture/core-concepts/#export-format","title":"Export Format","text":"<p>Counters are exported as JSON arrays:</p> <pre><code>{\n  \"version\": \"1.4.0\",\n  \"exportDate\": \"2025-12-10T15:30:00.000Z\",\n  \"counters\": [\n    {\n      \"counterType\": \"tap\",\n      \"id\": \"uuid-1\",\n      \"name\": \"Water Intake\",\n      \"value\": 8,\n      \"stepSize\": 1,\n      \"isIncrement\": true,\n      \"requireConfirmation\": true,\n      \"lastUpdated\": \"2025-12-10T15:30:00.000Z\",\n      \"updates\": [\"2025-12-10T15:30:00.000Z\", \"2025-12-10T14:20:00.000Z\"]\n    }\n  ]\n}\n</code></pre>"},{"location":"architecture/core-concepts/#import-process","title":"Import Process","text":"<pre><code>sequenceDiagram\n    participant User\n    participant FilePicker\n    participant ImportService\n    participant Factory\n    participant Provider\n    participant Hive\n\n    User-&gt;&gt;FilePicker: Select JSON file\n    FilePicker--&gt;&gt;ImportService: File path\n    ImportService-&gt;&gt;ImportService: Read &amp; parse JSON\n    ImportService-&gt;&gt;Factory: fromJson() for each counter\n    Factory--&gt;&gt;ImportService: Counter instances\n    ImportService-&gt;&gt;Provider: Replace counters\n    Provider-&gt;&gt;Hive: Clear &amp; save all\n    Provider-&gt;&gt;Provider: notifyListeners()\n    Provider--&gt;&gt;User: Success message</code></pre>"},{"location":"architecture/core-concepts/#update-tracking","title":"Update Tracking","text":""},{"location":"architecture/core-concepts/#update-history","title":"Update History","text":"<p>Each counter maintains a chronological history:</p> <pre><code>List&lt;DateTime&gt; updates = [\n  DateTime(2025, 12, 10, 15, 30),  // Most recent\n  DateTime(2025, 12, 10, 14, 20),\n  DateTime(2025, 12, 09, 18, 45),\n  // ... older updates\n];\n</code></pre> <p>Usage:</p> <ul> <li>Statistics calculations</li> <li>Chart generation</li> <li>Activity patterns</li> <li>History display</li> </ul>"},{"location":"architecture/core-concepts/#statistics-computation","title":"Statistics Computation","text":"<p>Using the <code>DateStatistics</code> utility class:</p> <pre><code>// Group by day\nfinal byDay = DateStatistics.groupUpdatesByDay(updates);\n\n// Count frequency\nfinal frequency = DateStatistics.countDaysByUpdateFrequency(updates);\n\n// Calculate averages\nfinal avgPerDay = DateStatistics.calculateAverageUpdatesPerDay(updates);\n\n// Find patterns\nfinal mostActive = DateStatistics.findMostActiveTimeWindow(updates);\n</code></pre>"},{"location":"architecture/core-concepts/#theme-system","title":"Theme System","text":""},{"location":"architecture/core-concepts/#dynamic-theming","title":"Dynamic Theming","text":"<pre><code>graph LR\n    A[System Theme] --&gt;|Detect| B[ThemeNotifier]\n    A2[User Toggle] --&gt;|Update| B\n    B --&gt;|Notify| C[MaterialApp]\n    C --&gt;|Apply| D[Light Theme]\n    C --&gt;|Apply| E[Dark Theme]\n    D --&gt; F[UI]\n    E --&gt; F\n\n    B --&gt;|Persist| G[Hive Settings]\n\n    style B fill:#ffe1e1</code></pre> <p>Features:</p> <ul> <li>Auto-detect system theme</li> <li>Manual toggle</li> <li>Persisted preference</li> <li>Smooth transitions</li> </ul>"},{"location":"architecture/core-concepts/#error-handling","title":"Error Handling","text":""},{"location":"architecture/core-concepts/#validation-layers","title":"Validation Layers","text":"<pre><code>graph TD\n    A[User Input] --&gt; B[UI Validation]\n    B --&gt;|Valid| C[Model Validation]\n    B --&gt;|Invalid| D[Show Error]\n    C --&gt;|Valid| E[Persist]\n    C --&gt;|Invalid| D\n    E --&gt;|Success| F[Update UI]\n    E --&gt;|Error| G[Show Error &amp; Rollback]\n\n    style C fill:#fff4e1</code></pre> <p>Validation Points:</p> <ol> <li>UI Level: Form validators, input formatters</li> <li>Model Level: <code>validate()</code> method</li> <li>Storage Level: Hive type checking</li> </ol>"},{"location":"architecture/core-concepts/#error-recovery","title":"Error Recovery","text":"<pre><code>try {\n  await provider.updateCounter(context, index);\n} catch (e) {\n  // Show error to user\n  ScaffoldMessenger.of(context).showSnackBar(\n    SnackBar(content: Text(\"Error: $e\")),\n  );\n  // State remains unchanged\n}\n</code></pre>"},{"location":"architecture/core-concepts/#performance-optimization","title":"Performance Optimization","text":""},{"location":"architecture/core-concepts/#efficient-rendering","title":"Efficient Rendering","text":"<p>ListView.builder:</p> <pre><code>// Only builds visible items\nListView.builder(\n  itemCount: counters.length,\n  itemBuilder: (context, index) {\n    return CounterTile(counter: counters[index]);\n  },\n)\n</code></pre> <p>Selective Rebuilds:</p> <pre><code>// Only rebuild when counters change\nConsumer&lt;CounterProvider&gt;(\n  builder: (context, provider, child) {\n    return CounterList(counters: provider.counters);\n  },\n)\n</code></pre>"},{"location":"architecture/core-concepts/#lazy-loading","title":"Lazy Loading","text":"<pre><code>// Hive boxes opened only when needed\nFuture&lt;Box&gt; _getBox() async {\n  _box ??= await Hive.openBox(AppConstants.countersBox);\n  return _box!;\n}\n</code></pre>"},{"location":"architecture/core-concepts/#migration-strategy","title":"Migration Strategy","text":""},{"location":"architecture/core-concepts/#backward-compatibility","title":"Backward Compatibility","text":"<p>Supporting old data formats:</p> <pre><code>factory TapCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n  // Support multiple field names\n  bool isInc;\n  if (json.containsKey(\"type\")) {\n    isInc = json[\"type\"] == \"increment\";  // Old format\n  } else if (json.containsKey(\"direction\")) {\n    isInc = json[\"direction\"] == \"increment\";  // Older format\n  } else {\n    isInc = json[\"isIncrement\"] as bool;  // Current format\n  }\n  // ...\n}\n</code></pre>"},{"location":"architecture/core-concepts/#migration-process","title":"Migration Process","text":"<pre><code>graph TD\n    A[App Start] --&gt; B{Old Data Exists?}\n    B --&gt;|No| C[Normal Start]\n    B --&gt;|Yes| D[Run Migration]\n    D --&gt; E[Convert Old Format]\n    E --&gt; F[Save New Format]\n    F --&gt; G[Clear Old Data]\n    G --&gt; C\n\n    style D fill:#fff4e1\n    style E fill:#fff4e1</code></pre>"},{"location":"architecture/core-concepts/#key-takeaways","title":"Key Takeaways","text":"<ol> <li>Abstraction enables extensibility and maintainability</li> <li>Provider manages state reactively and predictably</li> <li>Hive provides fast, type-safe persistence</li> <li>Factory pattern enables dynamic type creation</li> <li>Validation happens at multiple layers for robustness</li> <li>Performance is optimized through lazy loading and selective rendering</li> </ol>"},{"location":"architecture/core-concepts/#next-steps","title":"Next Steps","text":"<ul> <li>Counter System \u2192 - Deep dive into counter architecture</li> <li>State Management \u2192 - Provider pattern details</li> <li>Data Persistence \u2192 - Hive storage internals</li> </ul>"},{"location":"architecture/counter-system/","title":"Counter System","text":""},{"location":"architecture/counter-system/#counter-system-architecture","title":"Counter System Architecture","text":"<p>Detailed documentation of the counter system architecture and design patterns.</p>"},{"location":"architecture/counter-system/#overview","title":"Overview","text":"<p>The counter system is built on a foundation of abstract base classes, polymorphism, and the factory pattern to enable extensibility while maintaining a consistent interface.</p>"},{"location":"architecture/counter-system/#class-hierarchy","title":"Class Hierarchy","text":"<pre><code>classDiagram\n    class BaseCounter {\n        &lt;&lt;abstract&gt;&gt;\n        +String id\n        +String name\n        +int value\n        +DateTime lastUpdated\n        +List~DateTime~ updates\n        +counterType String\n        +onInteraction() Future~bool~\n        +buildIcon() Widget\n        +getSubtitle() String\n        +getColor() Color\n        +toJson() Map\n        +validate() bool\n        +getStatisticsPage() Widget\n    }\n\n    class TapCounter {\n        +int stepSize\n        +bool isIncrement\n        +bool requireConfirmation\n    }\n\n    class FutureCounterType {\n        +custom properties\n    }\n\n    BaseCounter &lt;|-- TapCounter\n    BaseCounter &lt;|-- FutureCounterType</code></pre>"},{"location":"architecture/counter-system/#design-patterns","title":"Design Patterns","text":""},{"location":"architecture/counter-system/#abstract-factory-pattern","title":"Abstract Factory Pattern","text":"<p>The <code>CounterFactory</code> uses the Abstract Factory pattern to create counter instances:</p> <pre><code>BaseCounter counter = CounterFactory.fromJson(jsonData);\n</code></pre> <p>Benefits:</p> <ul> <li>Decouples client code from concrete classes</li> <li>Centralizes type registration</li> <li>Easy to extend with new types</li> </ul>"},{"location":"architecture/counter-system/#strategy-pattern","title":"Strategy Pattern","text":"<p>Each counter type implements its own update strategy via <code>onInteraction()</code>:</p> <pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  // Counter-specific update logic\n}\n</code></pre>"},{"location":"architecture/counter-system/#template-method-pattern","title":"Template Method Pattern","text":"<p>The base class provides template methods with default implementations that can be overridden:</p> <pre><code>bool validate() {\n  return name.isNotEmpty; // Default validation\n}\n</code></pre>"},{"location":"architecture/counter-system/#polymorphic-behavior","title":"Polymorphic Behavior","text":""},{"location":"architecture/counter-system/#type-specific-icons","title":"Type-Specific Icons","text":"<p>Each counter displays a unique icon:</p> <pre><code>@override\nWidget buildIcon() {\n  return CircleAvatar(\n    backgroundColor: getColor(),\n    child: Icon(typeSpecificIcon),\n  );\n}\n</code></pre>"},{"location":"architecture/counter-system/#type-specific-colors","title":"Type-Specific Colors","text":"<p>Each counter type has its own color:</p> <pre><code>@override\nColor getColor() =&gt; Colors.blueAccent; // TapCounter\n// Colors.deepPurple for LongPressCounter\n// Colors.green for SwipeCounter\n</code></pre>"},{"location":"architecture/counter-system/#type-specific-statistics","title":"Type-Specific Statistics","text":"<p>Counters can provide custom statistics pages:</p> <pre><code>@override\nWidget? getStatisticsPage(int index) {\n  return CustomStatisticsPage(counter: this);\n}\n</code></pre>"},{"location":"architecture/counter-system/#extensibility-points","title":"Extensibility Points","text":"<p>To add a new counter type:</p> <ol> <li>Extend BaseCounter</li> <li>Implement abstract methods</li> <li>Add Hive annotations</li> <li>Register in factory</li> <li>Create configuration UI</li> </ol> <p>See Adding Counter Types for details.</p>"},{"location":"architecture/counter-system/#persistence-layer","title":"Persistence Layer","text":""},{"location":"architecture/counter-system/#hive-integration","title":"Hive Integration","text":"<pre><code>graph LR\n    A[Counter Object] --&gt;|Adapter| B[Binary]\n    B --&gt;|Box| C[Storage]\n    C --&gt;|Adapter| D[Counter Object]</code></pre>"},{"location":"architecture/counter-system/#type-registration","title":"Type Registration","text":"<p>Each counter type requires a unique Hive typeId:</p> <pre><code>@HiveType(typeId: 1)  // TapCounter\n@HiveType(typeId: 3)  // Next counter type\n</code></pre>"},{"location":"architecture/counter-system/#state-management-integration","title":"State Management Integration","text":"<p>Counters integrate with Provider for reactive updates:</p> <pre><code>// Update counter\nawait provider.updateCounter(context, index);\n\n// Provider notifies listeners\nnotifyListeners();\n\n// UI rebuilds automatically\n</code></pre>"},{"location":"architecture/counter-system/#next-steps","title":"Next Steps","text":"<ul> <li>BaseCounter API</li> <li>Adding Counter Types</li> <li>Core Concepts</li> </ul>"},{"location":"architecture/data-persistence/","title":"Data Persistence","text":""},{"location":"architecture/data-persistence/#data-persistence","title":"Data Persistence","text":"<p>Documentation of the data persistence layer using Hive CE.</p>"},{"location":"architecture/data-persistence/#hive-ce-overview","title":"Hive CE Overview","text":"<p>Hive CE is a lightweight, fast NoSQL database designed for Flutter applications.</p>"},{"location":"architecture/data-persistence/#storage-architecture","title":"Storage Architecture","text":"<pre><code>graph LR\n    A[Counter Objects] --&gt;|TypeAdapter| B[Binary Data]\n    B --&gt;|Hive Box| C[Local Storage]\n    C --&gt;|TypeAdapter| D[Counter Objects]\n\n    style B fill:#e1ffe1\n    style C fill:#e1ffe1</code></pre>"},{"location":"architecture/data-persistence/#boxes","title":"Boxes","text":"<p>Hive uses \"boxes\" as key-value stores:</p> <pre><code>// Settings box (opened at startup)\nfinal settingsBox = await Hive.openBox(AppConstants.settingsBox);\n\n// Counters box (lazy loaded)\nfinal countersBox = await Hive.openBox(AppConstants.countersBox);\n</code></pre>"},{"location":"architecture/data-persistence/#type-adapters","title":"Type Adapters","text":""},{"location":"architecture/data-persistence/#generated-adapters","title":"Generated Adapters","text":"<p>Type adapters are generated by <code>build_runner</code>:</p> <pre><code>@HiveType(typeId: 1)\nclass TapCounter extends BaseCounter {\n  @HiveField(0)\n  final int stepSize;\n\n  @HiveField(1)\n  final bool isIncrement;\n}\n</code></pre> <p>Generates <code>TapCounterAdapter</code> in <code>*.g.dart</code> file.</p>"},{"location":"architecture/data-persistence/#registration","title":"Registration","text":"<p>Adapters are registered automatically via generated code:</p> <pre><code>import 'package:countapp/hive_registrar.g.dart';\n\nvoid main() async {\n  await Hive.initFlutter();\n  Hive.registerAdapters();\n}\n</code></pre>"},{"location":"architecture/data-persistence/#crud-operations","title":"CRUD Operations","text":""},{"location":"architecture/data-persistence/#create-add","title":"Create (Add)","text":"<pre><code>final box = await Hive.openBox('counters');\nawait box.add(counter.toJson());\n</code></pre>"},{"location":"architecture/data-persistence/#read-load","title":"Read (Load)","text":"<pre><code>final values = box.values;\nfinal counters = values.map((json) =&gt;\n    CounterFactory.fromJson(json)\n).toList();\n</code></pre>"},{"location":"architecture/data-persistence/#update","title":"Update","text":"<pre><code>await box.putAt(index, counter.toJson());\n</code></pre>"},{"location":"architecture/data-persistence/#delete","title":"Delete","text":"<pre><code>await box.deleteAt(index);\n</code></pre>"},{"location":"architecture/data-persistence/#storage-locations","title":"Storage Locations","text":""},{"location":"architecture/data-persistence/#android","title":"Android","text":"<pre><code>/data/data/com.kingbenny101.countapp/files/\n</code></pre>"},{"location":"architecture/data-persistence/#windows","title":"Windows","text":"<pre><code>%APPDATA%\\countapp\\\n</code></pre>"},{"location":"architecture/data-persistence/#linux","title":"Linux","text":"<pre><code>~/.local/share/countapp/\n</code></pre>"},{"location":"architecture/data-persistence/#data-migration","title":"Data Migration","text":"<p>Migration from old data formats:</p> <pre><code>class CounterMigration {\n  static Future&lt;void&gt; migrateIfNeeded() async {\n    final oldBox = await Hive.openBox&lt;Counter&gt;(\"countersBox\");\n    // Migration logic\n  }\n}\n</code></pre>"},{"location":"architecture/data-persistence/#best-practices","title":"Best Practices","text":"<ol> <li>Use TypeId: Assign unique typeIds to avoid conflicts</li> <li>Lazy Loading: Open boxes only when needed</li> <li>Atomic Operations: Use transactions for multiple updates</li> <li>Error Handling: Wrap storage operations in try-catch</li> <li>Backup: Implement export/import for user backups</li> </ol>"},{"location":"architecture/data-persistence/#performance","title":"Performance","text":"<ul> <li>Fast: Binary format is optimized for speed</li> <li>Compact: Efficient storage with small overhead</li> <li>Lazy: Boxes loaded on-demand</li> <li>Cached: In-memory caching for frequent access</li> </ul>"},{"location":"architecture/data-persistence/#see-also","title":"See Also","text":"<ul> <li>Core Concepts</li> <li>Migration</li> <li>Architecture Overview</li> </ul>"},{"location":"architecture/overview/","title":"Overview","text":""},{"location":"architecture/overview/#architecture-overview","title":"Architecture Overview","text":"<p>Count App uses a clean, modular architecture with clear separation of concerns.</p>"},{"location":"architecture/overview/#high-level-structure","title":"High-Level Structure","text":"<pre><code>graph TB\n    A[UI Layer] --&gt; B[Provider Layer]\n    B --&gt; C[Business Logic]\n    C --&gt; D[Data Layer]\n    D --&gt; E[(Hive Storage)]\n\n    C --&gt; F[Counter Factory]\n    F --&gt; G[TapCounter]\n    F --&gt; H[Future Types]</code></pre>"},{"location":"architecture/overview/#core-components","title":"Core Components","text":""},{"location":"architecture/overview/#counter-system","title":"Counter System","text":"<p>All counters inherit from <code>BaseCounter</code> abstract class:</p> <pre><code>abstract class BaseCounter {\n  String id;\n  String name;\n  int value;\n  DateTime? lastUpdated;\n  List&lt;DateTime&gt; updates;\n\n  // Must implement\n  String get counterType;\n  Future&lt;bool&gt; onInteraction(BuildContext context);\n  Widget buildIcon();\n  Color getColor();\n}\n</code></pre> <p>CounterFactory dynamically creates counters from JSON based on <code>counterType</code>.</p>"},{"location":"architecture/overview/#state-management","title":"State Management","text":"<ul> <li>CounterProvider: Manages counter list, uses <code>ChangeNotifier</code></li> <li>ThemeNotifier: Handles theme state</li> <li>UI widgets use <code>Consumer&lt;T&gt;</code> to rebuild on state changes</li> </ul>"},{"location":"architecture/overview/#data-persistence","title":"Data Persistence","text":"<ul> <li>Hive CE: Type-safe binary storage</li> <li>Type Adapters: Generated with <code>build_runner</code></li> <li>Auto-save: Provider automatically persists changes</li> </ul>"},{"location":"architecture/overview/#directory-structure","title":"Directory Structure","text":"<pre><code>lib/\n\u251c\u2500\u2500 counters/\n\u2502   \u251c\u2500\u2500 base/\n\u2502   \u2502   \u251c\u2500\u2500 base_counter.dart      # Abstract class\n\u2502   \u2502   \u2514\u2500\u2500 counter_factory.dart   # Factory pattern\n\u2502   \u2514\u2500\u2500 tap_counter/\n\u2502       \u251c\u2500\u2500 tap_counter.dart       # Implementation\n\u2502       \u2514\u2500\u2500 tap_counter_config.dart # UI\n\u251c\u2500\u2500 providers/\n\u2502   \u2514\u2500\u2500 counter_provider.dart      # State management\n\u251c\u2500\u2500 screens/                       # App screens\n\u251c\u2500\u2500 theme/                         # Theme system\n\u2514\u2500\u2500 utils/                         # Utilities\n</code></pre>"},{"location":"architecture/overview/#key-principles","title":"Key Principles","text":"<ul> <li>Extensibility: Add counter types without modifying existing code</li> <li>Polymorphism: All counters implement <code>BaseCounter</code></li> <li>Type Safety: Strong typing with null safety</li> <li>Single Responsibility: Each class has one clear purpose</li> </ul> <p>\u2502 \u251c\u2500\u2500 home_page.dart # Counter list \u2502 \u251c\u2500\u2500 add_counter_page.dart # Type selection \u2502 \u251c\u2500\u2500 options_page.dart # Settings \u2502 \u251c\u2500\u2500 info_page.dart # App info \u2502 \u251c\u2500\u2500 about_page.dart # About \u2502 \u251c\u2500\u2500 guide_page.dart # User guide \u2502 \u251c\u2500\u2500 all_updates_page.dart # All updates view \u2502 \u2514\u2500\u2500 update_page.dart # Single update view \u251c\u2500\u2500 theme/ # Theme configuration \u2502 \u2514\u2500\u2500 theme_notifier.dart # Theme state management \u251c\u2500\u2500 utils/ # Utility functions \u2502 \u251c\u2500\u2500 constants.dart # App constants \u2502 \u251c\u2500\u2500 statistics.dart # Date/time utilities \u2502 \u251c\u2500\u2500 widgets.dart # Reusable widgets \u2502 \u251c\u2500\u2500 files.dart # File operations \u2502 \u251c\u2500\u2500 permissions.dart # Permission handling \u2502 \u251c\u2500\u2500 migration.dart # Data migration \u2502 \u2514\u2500\u2500 updates.dart # Update utilities \u251c\u2500\u2500 hive_registrar.g.dart # Generated Hive registration \u2514\u2500\u2500 main.dart # Application entry point</p> <pre><code>## Design Patterns\n\n### 1. Abstract Factory Pattern\n\n`CounterFactory` creates counter instances based on type:\n\n```dart\nclass CounterFactory {\n  static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n    final type = json[\"counterType\"] as String?;\n\n    switch (type) {\n      case \"tap\":\n        return TapCounter.fromJson(json);\n      // More types...\n      default:\n        throw ArgumentError(\"Unknown counter type: $type\");\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/overview/#2-strategy-pattern","title":"2. Strategy Pattern","text":"<p>Each counter type implements its own update strategy:</p> <pre><code>// TapCounter: Simple tap to update\n@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  if (requireConfirmation) {\n    final confirmed = await _showConfirmationDialog(context);\n    if (!confirmed) return false;\n  }\n\n  value += isIncrement ? stepSize : -stepSize;\n  return true;\n}\n</code></pre>"},{"location":"architecture/overview/#3-observer-pattern","title":"3. Observer Pattern","text":"<p>Provider-based state management:</p> <pre><code>class CounterProvider with ChangeNotifier {\n  void updateCounter(int index) {\n    // Update counter\n    notifyListeners(); // Notify all observers\n  }\n}\n</code></pre>"},{"location":"architecture/overview/#4-builder-pattern","title":"4. Builder Pattern","text":"<p>Widget builders for dynamic UI:</p> <pre><code>@override\nWidget buildIcon() {\n  return CircleAvatar(\n    backgroundColor: getColor(),\n    child: Icon(\n      isIncrement ? Icons.add : Icons.remove,\n      color: Colors.white,\n    ),\n  );\n}\n</code></pre>"},{"location":"architecture/overview/#data-flow","title":"Data Flow","text":""},{"location":"architecture/overview/#counter-creation","title":"Counter Creation","text":"<pre><code>sequenceDiagram\n    participant User\n    participant UI\n    participant Provider\n    participant Factory\n    participant Hive\n\n    User-&gt;&gt;UI: Tap FAB\n    UI-&gt;&gt;UI: Show Config Page\n    User-&gt;&gt;UI: Enter Details\n    User-&gt;&gt;UI: Tap Save\n    UI-&gt;&gt;Factory: Create Counter\n    Factory-&gt;&gt;Factory: Instantiate Type\n    Factory--&gt;&gt;UI: Counter Instance\n    UI-&gt;&gt;Provider: addCounter()\n    Provider-&gt;&gt;Hive: Persist\n    Provider-&gt;&gt;Provider: notifyListeners()\n    Provider--&gt;&gt;UI: Update\n    UI--&gt;&gt;User: Show Success</code></pre>"},{"location":"architecture/overview/#counter-update","title":"Counter Update","text":"<pre><code>sequenceDiagram\n    participant User\n    participant HomePage\n    participant Provider\n    participant Counter\n    participant Hive\n\n    User-&gt;&gt;HomePage: Tap Counter\n    HomePage-&gt;&gt;Provider: updateCounter(index)\n    Provider-&gt;&gt;Counter: onInteraction()\n    Counter-&gt;&gt;Counter: Update Logic\n    Counter--&gt;&gt;Provider: Success\n    Provider-&gt;&gt;Hive: Save Changes\n    Provider-&gt;&gt;Provider: notifyListeners()\n    Provider--&gt;&gt;HomePage: Rebuild\n    HomePage--&gt;&gt;User: Visual Update</code></pre>"},{"location":"architecture/overview/#data-importexport","title":"Data Import/Export","text":"<pre><code>graph LR\n    A[Export] --&gt;|toJson| B[JSON Array]\n    B --&gt;|File System| C[JSON File]\n    C --&gt;|File Picker| D[Import]\n    D --&gt;|fromJson| E[Counter List]\n    E --&gt;|Provider| F[Hive Storage]\n\n    style B fill:#fff4e1\n    style E fill:#fff4e1</code></pre>"},{"location":"architecture/overview/#key-architectural-decisions","title":"Key Architectural Decisions","text":""},{"location":"architecture/overview/#why-abstract-base-class","title":"Why Abstract Base Class?","text":"<p>Decision: Use abstract <code>BaseCounter</code> instead of interfaces</p> <p>Rationale:</p> <ul> <li>Shared implementation (id, name, value, updates)</li> <li>Default implementations (validate, getStatisticsPage)</li> <li>Common constructor logic</li> <li>Type safety for collections</li> </ul>"},{"location":"architecture/overview/#why-provider-over-bloc","title":"Why Provider over BLoC?","text":"<p>Decision: Use Provider for state management</p> <p>Rationale:</p> <ul> <li>Simpler for this app's scope</li> <li>Less boilerplate</li> <li>Direct integration with Flutter</li> <li>Easy to test and mock</li> </ul>"},{"location":"architecture/overview/#why-hive-over-sqlite","title":"Why Hive over SQLite?","text":"<p>Decision: Use Hive CE for persistence</p> <p>Rationale:</p> <ul> <li>No-SQL flexibility</li> <li>Type-safe with code generation</li> <li>Fast binary serialization</li> <li>No native dependencies</li> <li>Cross-platform consistency</li> </ul>"},{"location":"architecture/overview/#why-factory-pattern","title":"Why Factory Pattern?","text":"<p>Decision: Use factory for counter instantiation</p> <p>Rationale:</p> <ul> <li>Dynamic type determination from JSON</li> <li>Extensible for new types</li> <li>Single responsibility</li> <li>Easy to test</li> </ul>"},{"location":"architecture/overview/#performance-considerations","title":"Performance Considerations","text":""},{"location":"architecture/overview/#efficient-list-rendering","title":"Efficient List Rendering","text":"<pre><code>ListView.builder(\n  itemCount: counters.length,\n  itemBuilder: (context, index) {\n    final counter = counters[index];\n    return CounterTile(counter: counter); // Only builds visible items\n  },\n)\n</code></pre>"},{"location":"architecture/overview/#lazy-loading","title":"Lazy Loading","text":"<pre><code>Future&lt;void&gt; loadCounters() async {\n  final box = await _getBox(); // Lazy initialization\n  _counters = box.values.map(...).toList();\n  notifyListeners();\n}\n</code></pre>"},{"location":"architecture/overview/#selective-rebuilds","title":"Selective Rebuilds","text":"<pre><code>Consumer&lt;CounterProvider&gt;(\n  builder: (context, provider, child) {\n    // Only rebuilds when provider notifies\n    return CounterList(counters: provider.counters);\n  },\n)\n</code></pre>"},{"location":"architecture/overview/#security-considerations","title":"Security Considerations","text":""},{"location":"architecture/overview/#data-validation","title":"Data Validation","text":"<ul> <li>Input validation in UI and models</li> <li>Type checking with Dart's null safety</li> <li>Range validation for numeric inputs</li> <li>Sanitization before storage</li> </ul>"},{"location":"architecture/overview/#permissions","title":"Permissions","text":"<ul> <li>Request only necessary permissions</li> <li>Handle permission denial gracefully</li> <li>Platform-specific permission handling</li> </ul>"},{"location":"architecture/overview/#scalability","title":"Scalability","text":"<p>The architecture supports:</p> <ul> <li>Vertical: More features per counter type</li> <li>Horizontal: More counter types</li> <li>Data: Efficient storage and retrieval</li> <li>Platforms: Easy platform addition</li> </ul>"},{"location":"architecture/overview/#testing-strategy","title":"Testing Strategy","text":""},{"location":"architecture/overview/#unit-tests","title":"Unit Tests","text":"<ul> <li>Counter logic</li> <li>Serialization/deserialization</li> <li>Validation rules</li> <li>Utility functions</li> </ul>"},{"location":"architecture/overview/#widget-tests","title":"Widget Tests","text":"<ul> <li>Counter UI components</li> <li>Configuration pages</li> <li>Statistics displays</li> </ul>"},{"location":"architecture/overview/#integration-tests","title":"Integration Tests","text":"<ul> <li>Complete user flows</li> <li>State management</li> <li>Data persistence</li> </ul>"},{"location":"architecture/overview/#next-steps","title":"Next Steps","text":"<p>Dive deeper into specific aspects:</p> <ul> <li>Core Concepts \u2192 - Fundamental concepts</li> <li>Counter System \u2192 - Counter architecture</li> <li>State Management \u2192 - Provider details</li> <li>Data Persistence \u2192 - Hive implementation</li> </ul>"},{"location":"architecture/overview/#related-documentation","title":"Related Documentation","text":"<ul> <li>Adding Counter Types</li> <li>BaseCounter API</li> <li>CounterProvider API</li> </ul>"},{"location":"architecture/state-management/","title":"State Management","text":""},{"location":"architecture/state-management/#state-management","title":"State Management","text":"<p>Detailed documentation of the state management architecture using Provider.</p>"},{"location":"architecture/state-management/#provider-pattern","title":"Provider Pattern","text":"<p>Count App uses the Provider pattern for state management, providing a reactive and predictable way to manage application state.</p>"},{"location":"architecture/state-management/#architecture","title":"Architecture","text":"<pre><code>graph TB\n    A[UI Widgets] --&gt;|Read State| B[Provider]\n    A --&gt;|Dispatch Actions| C[CounterProvider]\n    C --&gt;|Update State| D[Counter List]\n    C --&gt;|Persist| E[Hive Storage]\n    C --&gt;|Notify| B\n    B --&gt;|Rebuild| A\n\n    style C fill:#ffe1e1</code></pre>"},{"location":"architecture/state-management/#counterprovider","title":"CounterProvider","text":"<p>The main state provider for counters:</p> <pre><code>class CounterProvider with ChangeNotifier {\n  List&lt;BaseCounter&gt; _counters = [];\n\n  Future&lt;void&gt; loadCounters() async { /* ... */ }\n  Future&lt;void&gt; addCounter(BaseCounter counter) async { /* ... */ }\n  Future&lt;void&gt; updateCounter(BuildContext context, int index) async { /* ... */ }\n}\n</code></pre> <p>See CounterProvider API for full documentation.</p>"},{"location":"architecture/state-management/#themenotifier","title":"ThemeNotifier","text":"<p>Manages theme state:</p> <pre><code>class ThemeNotifier extends ChangeNotifier {\n  ThemeMode _themeMode;\n\n  void toggleTheme() { /* ... */ }\n}\n</code></pre>"},{"location":"architecture/state-management/#provider-setup","title":"Provider Setup","text":"<p>In <code>main.dart</code>:</p> <pre><code>MultiProvider(\n  providers: [\n    ChangeNotifierProvider(create: (_) =&gt; ThemeNotifier()),\n    ChangeNotifierProvider(create: (_) =&gt; CounterProvider()),\n  ],\n  child: MainApp(),\n)\n</code></pre>"},{"location":"architecture/state-management/#consuming-state","title":"Consuming State","text":""},{"location":"architecture/state-management/#reading-state","title":"Reading State","text":"<pre><code>// Watch for changes (rebuilds on update)\nfinal counters = context.watch&lt;CounterProvider&gt;().counters;\n\n// Read once (no rebuilds)\nfinal provider = context.read&lt;CounterProvider&gt;();\n</code></pre>"},{"location":"architecture/state-management/#consumer-widget","title":"Consumer Widget","text":"<pre><code>Consumer&lt;CounterProvider&gt;(\n  builder: (context, provider, child) {\n    return ListView.builder(\n      itemCount: provider.counters.length,\n      itemBuilder: (context, index) {\n        return CounterTile(counter: provider.counters[index]);\n      },\n    );\n  },\n)\n</code></pre>"},{"location":"architecture/state-management/#state-updates","title":"State Updates","text":""},{"location":"architecture/state-management/#synchronous-updates","title":"Synchronous Updates","text":"<pre><code>void updateLocalState() {\n  _counter++;\n  notifyListeners();\n}\n</code></pre>"},{"location":"architecture/state-management/#asynchronous-updates","title":"Asynchronous Updates","text":"<pre><code>Future&lt;void&gt; updateWithPersistence() async {\n  await _persist();\n  notifyListeners();\n}\n</code></pre>"},{"location":"architecture/state-management/#best-practices","title":"Best Practices","text":"<ol> <li>Minimal Rebuilds: Use <code>Consumer</code> to scope rebuilds</li> <li>Immutability: Create new references for lists/maps</li> <li>Single Responsibility: Each provider manages one domain</li> <li>Separation: Keep business logic in providers</li> </ol>"},{"location":"architecture/state-management/#see-also","title":"See Also","text":"<ul> <li>CounterProvider</li> <li>Core Concepts</li> </ul>"},{"location":"getting-started/building/","title":"Building","text":""},{"location":"getting-started/building/#building-for-release","title":"Building for Release","text":"<p>This guide covers building Count App for production distribution across all supported platforms.</p>"},{"location":"getting-started/building/#prerequisites","title":"Prerequisites","text":"<ul> <li>Complete Installation setup</li> <li>Platform-specific build tools configured</li> <li>Source code cloned and dependencies installed</li> </ul>"},{"location":"getting-started/building/#build-script","title":"Build Script","text":"<p>Count App includes a comprehensive Dart-based build script that handles:</p> <ul> <li>Version extraction from <code>pubspec.yaml</code></li> <li>Environment setup (package rename, icons)</li> <li>Code generation</li> <li>Platform-specific builds</li> <li>Output organization in <code>release/</code> folder</li> <li>Automatic file naming with version numbers</li> </ul>"},{"location":"getting-started/building/#available-commands","title":"Available Commands","text":"<pre><code># Generate environment (icons, package config)\ndart run tool/build.dart generate\n\n# Clean build artifacts\ndart run tool/build.dart clean\n\n# Build for Android\ndart run tool/build.dart build_android\n\n# Build for Windows\ndart run tool/build.dart build_windows\n\n# Build for Linux\ndart run tool/build.dart build_linux\n\n# Build all (current platform + Android)\ndart run tool/build.dart all\n</code></pre>"},{"location":"getting-started/building/#android-build","title":"Android Build","text":""},{"location":"getting-started/building/#configure-signing","title":"Configure Signing","text":"<p>For release builds, configure app signing:</p> <ol> <li>Create keystore (if you don't have one):</li> </ol> <pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks \\\n  -keyalg RSA -keysize 2048 -validity 10000 \\\n  -alias upload\n</code></pre> <ol> <li>Create <code>android/app/key.properties</code>:</li> </ol> <pre><code>storePassword=your_store_password\nkeyPassword=your_key_password\nkeyAlias=upload\nstoreFile=/path/to/upload-keystore.jks\n</code></pre> <ol> <li>Add to <code>.gitignore</code>:</li> </ol> <pre><code>android/app/key.properties\n*.jks\n*.keystore\n</code></pre>"},{"location":"getting-started/building/#build-apk","title":"Build APK","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_android\n</code></pre> <p>Or manually:</p> <pre><code>flutter build apk --release\n</code></pre>"},{"location":"getting-started/building/#output-location","title":"Output Location","text":"<pre><code>release/countapp-1.4.0.apk\n</code></pre>"},{"location":"getting-started/building/#build-configuration","title":"Build Configuration","text":"<p>The build script runs:</p> <ol> <li>Extract version from <code>pubspec.yaml</code></li> <li>Run <code>flutter build apk --release</code></li> <li>Copy APK from <code>build/app/outputs/flutter-apk/</code></li> <li>Rename to <code>countapp-{version}.apk</code></li> <li>Move to <code>release/</code> folder</li> </ol>"},{"location":"getting-started/building/#apk-size-optimization","title":"APK Size Optimization","text":"<p>Current APK includes:</p> <ul> <li>ARM 32-bit (armeabi-v7a)</li> <li>ARM 64-bit (arm64-v8a)</li> <li>x86 (for emulators)</li> <li>x86_64</li> </ul> <p>To build separate APKs per ABI:</p> <pre><code>flutter build apk --split-per-abi --release\n</code></pre> <p>This creates:</p> <ul> <li><code>app-armeabi-v7a-release.apk</code> (~20MB)</li> <li><code>app-arm64-v8a-release.apk</code> (~22MB)</li> <li><code>app-x86_64-release.apk</code> (~24MB)</li> </ul>"},{"location":"getting-started/building/#windows-build","title":"Windows Build","text":""},{"location":"getting-started/building/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Visual Studio 2022 with C++ desktop development</li> <li>Windows 10 SDK</li> </ul>"},{"location":"getting-started/building/#build-msix","title":"Build MSIX","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_windows\n</code></pre> <p>Or manually:</p> <pre><code>flutter build windows --release\n</code></pre>"},{"location":"getting-started/building/#output-location_1","title":"Output Location","text":"<pre><code>release/windows/countapp/\n\u251c\u2500\u2500 countapp.exe\n\u251c\u2500\u2500 flutter_windows.dll\n\u251c\u2500\u2500 data/\n\u2514\u2500\u2500 other dependencies\n</code></pre>"},{"location":"getting-started/building/#msix-package-optional","title":"MSIX Package (Optional)","text":"<p>To create an installable MSIX package:</p> <ol> <li>Install MSIX tooling:</li> </ol> <pre><code>dart pub global activate msix\n</code></pre> <ol> <li>Configure in <code>pubspec.yaml</code>:</li> </ol> <pre><code>msix_config:\n  display_name: Count App\n  publisher_display_name: KingBenny101\n  identity_name: com.kingbenny101.countapp\n  logo_path: assets/icon/windows/icon.png\n  capabilities: 'internetClient'\n</code></pre> <ol> <li>Build MSIX:</li> </ol> <pre><code>dart run msix:create\n</code></pre> <p>Output: <code>build/windows/runner/Release/countapp.msix</code></p>"},{"location":"getting-started/building/#distribution","title":"Distribution","text":"<p>Distribute the entire <code>release/windows/countapp/</code> folder as a ZIP:</p> <pre><code>Compress-Archive -Path release/windows/* -DestinationPath countapp-1.4.0-windows.zip\n</code></pre>"},{"location":"getting-started/building/#linux-build","title":"Linux Build","text":""},{"location":"getting-started/building/#prerequisites_2","title":"Prerequisites","text":"<p>Ubuntu/Debian:</p> <pre><code>sudo apt-get install clang cmake ninja-build pkg-config \\\n  libgtk-3-dev liblzma-dev\n</code></pre> <p>Fedora:</p> <pre><code>sudo dnf install clang cmake ninja-build gtk3-devel\n</code></pre>"},{"location":"getting-started/building/#build","title":"Build","text":"<p>Using the build script:</p> <pre><code>dart run tool/build.dart build_linux\n</code></pre> <p>Or manually:</p> <pre><code>flutter build linux --release\n</code></pre>"},{"location":"getting-started/building/#output-location_2","title":"Output Location","text":"<pre><code>release/linux/countapp/\n\u251c\u2500\u2500 countapp\n\u251c\u2500\u2500 lib/\n\u2514\u2500\u2500 data/\n</code></pre>"},{"location":"getting-started/building/#distribution_1","title":"Distribution","text":"<p>Create a tarball:</p> <pre><code>cd release/linux\ntar -czf countapp-1.4.0-linux.tar.gz countapp/\n</code></pre>"},{"location":"getting-started/building/#appimage-optional","title":"AppImage (Optional)","text":"<p>To create a portable AppImage:</p> <ol> <li>Install <code>appimagetool</code></li> <li>Create AppDir structure</li> <li>Package with <code>appimagetool</code></li> </ol>"},{"location":"getting-started/building/#build-artifacts-summary","title":"Build Artifacts Summary","text":"<p>After running <code>dart run tool/build.dart all</code>:</p> <pre><code>release/\n\u251c\u2500\u2500 countapp-1.4.0.apk           # Android APK\n\u251c\u2500\u2500 windows/\n\u2502   \u2514\u2500\u2500 countapp/                # Windows executable + deps\n\u2514\u2500\u2500 linux/\n    \u2514\u2500\u2500 countapp/                # Linux executable + deps\n</code></pre>"},{"location":"getting-started/building/#version-management","title":"Version Management","text":""},{"location":"getting-started/building/#update-version","title":"Update Version","text":"<p>Edit <code>pubspec.yaml</code>:</p> <pre><code>version: 1.4.0 # Change this\n</code></pre> <p>The build script automatically:</p> <ul> <li>Extracts version</li> <li>Names outputs with version number</li> <li>Includes version in artifacts</li> </ul>"},{"location":"getting-started/building/#version-format","title":"Version Format","text":"<p>Follow semantic versioning: <code>MAJOR.MINOR.PATCH</code></p> <ul> <li>MAJOR: Breaking changes</li> <li>MINOR: New features, backward compatible</li> <li>PATCH: Bug fixes</li> </ul>"},{"location":"getting-started/building/#optimization","title":"Optimization","text":""},{"location":"getting-started/building/#flutter-build-optimizations","title":"Flutter Build Optimizations","text":"<p>All release builds automatically include:</p> <ul> <li>Tree Shaking: Remove unused code</li> <li>Obfuscation: Protect source code</li> <li>Minification: Reduce size</li> <li>AOT Compilation: Ahead-of-time native compilation</li> </ul>"},{"location":"getting-started/building/#additional-flags","title":"Additional Flags","text":"<p>For further optimization:</p> <pre><code>flutter build apk --release \\\n  --obfuscate \\\n  --split-debug-info=build/debug-info \\\n  --target-platform android-arm64\n</code></pre>"},{"location":"getting-started/building/#size-analysis","title":"Size Analysis","text":"<p>Analyze APK size:</p> <pre><code>flutter build apk --analyze-size --release\n</code></pre>"},{"location":"getting-started/building/#continuous-integration","title":"Continuous Integration","text":"<p>See CI/CD Pipeline for automated builds via GitHub Actions.</p>"},{"location":"getting-started/building/#ci-build-matrix","title":"CI Build Matrix","text":"<p>The GitHub Actions workflow builds:</p> <ul> <li>Android: Ubuntu runner</li> <li>Windows: Windows runner</li> <li>Linux: Ubuntu runner</li> </ul> <p>All builds run in parallel for faster releases.</p>"},{"location":"getting-started/building/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/building/#issue-android-build-fails-with-signing-error","title":"Issue: Android build fails with signing error","text":"<p>Solution: Ensure <code>key.properties</code> exists and paths are correct.</p>"},{"location":"getting-started/building/#issue-windows-build-missing-dlls","title":"Issue: Windows build missing DLLs","text":"<p>Solution: Ensure all dependencies in <code>build/windows/runner/Release/</code> are included.</p>"},{"location":"getting-started/building/#issue-linux-build-fails-with-gtk-errors","title":"Issue: Linux build fails with GTK errors","text":"<p>Solution: Install missing GTK development packages:</p> <pre><code>sudo apt-get install libgtk-3-dev\n</code></pre>"},{"location":"getting-started/building/#issue-build-script-fails-to-find-version","title":"Issue: Build script fails to find version","text":"<p>Solution: Ensure <code>pubspec.yaml</code> has correct <code>version:</code> field.</p>"},{"location":"getting-started/building/#issue-apk-too-large","title":"Issue: APK too large","text":"<p>Solution: Use <code>--split-per-abi</code> for smaller APKs per architecture.</p>"},{"location":"getting-started/building/#testing-release-builds","title":"Testing Release Builds","text":""},{"location":"getting-started/building/#android","title":"Android","text":"<p>Install and test on device:</p> <pre><code>adb install release/countapp-1.4.0.apk\nadb shell am start -n com.kingbenny101.countapp/.MainActivity\n</code></pre>"},{"location":"getting-started/building/#windows","title":"Windows","text":"<p>Run executable:</p> <pre><code>.\\release\\windows\\countapp\\countapp.exe\n</code></pre>"},{"location":"getting-started/building/#linux","title":"Linux","text":"<p>Run executable:</p> <pre><code>./release/linux/countapp/countapp\n</code></pre>"},{"location":"getting-started/building/#distribution-channels","title":"Distribution Channels","text":""},{"location":"getting-started/building/#android_1","title":"Android","text":"<ul> <li>Google Play Store: Upload APK/AAB</li> <li>Direct Download: Host APK on GitHub Releases</li> <li>F-Droid: Submit for open-source distribution</li> </ul>"},{"location":"getting-started/building/#windows_1","title":"Windows","text":"<ul> <li>Microsoft Store: Upload MSIX package</li> <li>Direct Download: Provide ZIP on GitHub Releases</li> <li>Chocolatey: Create package for package manager</li> </ul>"},{"location":"getting-started/building/#linux_1","title":"Linux","text":"<ul> <li>Snap Store: Create snap package</li> <li>Flathub: Submit flatpak</li> <li>AppImage: Distribute portable binary</li> <li>Direct Download: Provide tarball on GitHub Releases</li> </ul>"},{"location":"getting-started/building/#next-steps","title":"Next Steps","text":"<ul> <li>CI/CD Pipeline \u2192 - Automated builds</li> <li>Release Process \u2192 - How to release</li> <li>Configuration \u2192 - Build configuration details</li> </ul> <p>Automated Builds</p> <p>Use GitHub Actions for automated builds on every release. See the CI/CD documentation.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":""},{"location":"getting-started/configuration/#configuration","title":"Configuration","text":"<p>Count App configuration options and customization settings.</p>"},{"location":"getting-started/configuration/#application-configuration","title":"Application Configuration","text":""},{"location":"getting-started/configuration/#constants","title":"Constants","text":"<p>Application-wide constants are defined in <code>lib/utils/constants.dart</code>:</p> <pre><code>class AppConstants {\n  // Storage\n  static const String countersBox = 'counters_box';\n  static const String settingsBox = 'settings_box';\n\n  // Settings Keys\n  static const String themeModeSetting = 'theme_mode';\n\n  // Defaults\n  static const int defaultStepSize = 1;\n  static const int defaultInitialValue = 0;\n}\n</code></pre>"},{"location":"getting-started/configuration/#modifying-defaults","title":"Modifying Defaults","text":"<p>To change default values, edit <code>lib/utils/constants.dart</code>:</p> <pre><code>class AppConstants {\n  // Change default step size\n  static const int defaultStepSize = 5;  // Changed from 1\n\n  // Change default initial value\n  static const int defaultInitialValue = 100;  // Changed from 0\n}\n</code></pre>"},{"location":"getting-started/configuration/#build-configuration","title":"Build Configuration","text":""},{"location":"getting-started/configuration/#pubspecyaml","title":"pubspec.yaml","text":"<p>Main application configuration:</p> <pre><code>name: countapp\ndescription: 'A simple application to help users keep track of their counts effortlessly.'\nversion: 1.4.0\n\nenvironment:\n  sdk: '&gt;=3.3.3 &lt;4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  hive_ce: ^2.7.0+1\n  provider: ^6.1.2\n  # ... more dependencies\n</code></pre> <p>Key Sections:</p> <ul> <li>name: Package identifier (lowercase, underscores)</li> <li>version: Semantic version (MAJOR.MINOR.PATCH)</li> <li>environment: Dart SDK constraints</li> <li>dependencies: Runtime dependencies</li> <li>dev_dependencies: Development tools</li> </ul>"},{"location":"getting-started/configuration/#icons-configuration","title":"Icons Configuration","text":"<p>Configured in <code>flutter_launcher_icons.yaml</code>:</p> <pre><code>flutter_launcher_icons:\n  android: true\n  ios: false\n  image_path: 'assets/icon/android/icon.png'\n\n  adaptive_icon_background: '#ffffff'\n  adaptive_icon_foreground: 'assets/icon/android/icon.png'\n</code></pre> <p>Customization:</p> <ol> <li>Replace <code>assets/icon/android/icon.png</code> with your icon</li> <li>Run: <code>dart run flutter_launcher_icons:main</code></li> <li>Rebuild the app</li> </ol>"},{"location":"getting-started/configuration/#package-rename","title":"Package Rename","text":"<p>Configured in <code>package_rename_config.yaml</code>:</p> <pre><code>package_rename_config:\n  android:\n    app_name: 'Count App'\n    package_name: 'com.kingbenny101.countapp'\n    override_old_package: 'com.example.countapp'\n\n  windows:\n    application_name: 'Count App'\n    organization: 'com.kingbenny101'\n</code></pre> <p>Usage:</p> <pre><code>dart run package_rename\n</code></pre>"},{"location":"getting-started/configuration/#platform-specific-configuration","title":"Platform-Specific Configuration","text":""},{"location":"getting-started/configuration/#android","title":"Android","text":""},{"location":"getting-started/configuration/#minimum-sdk","title":"Minimum SDK","text":"<p>In <code>android/app/build.gradle.kts</code>:</p> <pre><code>android {\n    defaultConfig {\n        minSdk = 21  // Android 5.0\n        targetSdk = 34\n    }\n}\n</code></pre>"},{"location":"getting-started/configuration/#permissions","title":"Permissions","text":"<p>In <code>android/app/src/main/AndroidManifest.xml</code>:</p> <pre><code>&lt;manifest&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n\n    &lt;application&gt;\n        &lt;!-- ... --&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>"},{"location":"getting-started/configuration/#app-name","title":"App Name","text":"<p>In <code>android/app/src/main/AndroidManifest.xml</code>:</p> <pre><code>&lt;application\n    android:label=\"Count App\"\n    android:name=\"${applicationName}\"\n    android:icon=\"@mipmap/ic_launcher\"&gt;\n</code></pre>"},{"location":"getting-started/configuration/#windows","title":"Windows","text":""},{"location":"getting-started/configuration/#display-name","title":"Display Name","text":"<p>In <code>windows/runner/Runner.rc</code>:</p> <pre><code>VS_VERSION_INFO VERSIONINFO\n FILEVERSION 1,4,0,0\n PRODUCTVERSION 1,4,0,0\n FILEFLAGSMASK 0x3fL\n FILEFLAGS 0x0L\n FILEOS VOS_NT_WINDOWS32\n FILETYPE VFT_APP\n FILESUBTYPE 0x0L\nBEGIN\n    BLOCK \"StringFileInfo\"\n    BEGIN\n        BLOCK \"040904b0\"\n        BEGIN\n            VALUE \"CompanyName\", \"KingBenny101\"\n            VALUE \"FileDescription\", \"Count App\"\n            VALUE \"FileVersion\", \"1.4.0.0\"\n            VALUE \"ProductName\", \"Count App\"\n            VALUE \"ProductVersion\", \"1.4.0.0\"\n        END\n    END\nEND\n</code></pre>"},{"location":"getting-started/configuration/#msix-configuration","title":"MSIX Configuration","text":"<p>In <code>pubspec.yaml</code>:</p> <pre><code>msix_config:\n  display_name: Count App\n  publisher_display_name: KingBenny101\n  identity_name: com.kingbenny101.countapp\n  logo_path: assets/icon/windows/icon.png\n  capabilities: 'internetClient'\n</code></pre>"},{"location":"getting-started/configuration/#linux","title":"Linux","text":""},{"location":"getting-started/configuration/#desktop-entry","title":"Desktop Entry","text":"<p>Create <code>linux/countapp.desktop</code>:</p> <pre><code>[Desktop Entry]\nName=Count App\nComment=Track your counts effortlessly\nExec=countapp\nIcon=countapp\nType=Application\nCategories=Utility;\n</code></pre>"},{"location":"getting-started/configuration/#theme-configuration","title":"Theme Configuration","text":""},{"location":"getting-started/configuration/#default-themes","title":"Default Themes","text":"<p>Defined in <code>lib/main.dart</code>:</p> <pre><code>MaterialApp(\n  theme: ThemeData(\n    useMaterial3: true,\n    colorScheme: ColorScheme.fromSeed(\n      seedColor: Colors.blue,\n      brightness: Brightness.light,\n    ),\n  ),\n  darkTheme: ThemeData(\n    useMaterial3: true,\n    colorScheme: ColorScheme.fromSeed(\n      seedColor: Colors.blue,\n      brightness: Brightness.dark,\n    ),\n  ),\n  themeMode: themeNotifier.themeMode,\n)\n</code></pre>"},{"location":"getting-started/configuration/#customizing-theme-colors","title":"Customizing Theme Colors","text":"<p>To change the app's color scheme:</p> <pre><code>MaterialApp(\n  theme: ThemeData(\n    useMaterial3: true,\n    colorScheme: ColorScheme.fromSeed(\n      seedColor: Colors.purple,  // Change primary color\n      brightness: Brightness.light,\n    ),\n    // Custom overrides\n    appBarTheme: AppBarTheme(\n      backgroundColor: Colors.purple,\n      foregroundColor: Colors.white,\n    ),\n  ),\n)\n</code></pre>"},{"location":"getting-started/configuration/#storage-configuration","title":"Storage Configuration","text":""},{"location":"getting-started/configuration/#hive-boxes","title":"Hive Boxes","text":"<p>Configured in <code>lib/main.dart</code>:</p> <pre><code>await Hive.initFlutter();\nawait Hive.openBox(AppConstants.settingsBox);\n\n// Counters box opened lazily by provider\nfinal box = await Hive.openBox(AppConstants.countersBox);\n</code></pre>"},{"location":"getting-started/configuration/#storage-location","title":"Storage Location","text":"<p>Default storage paths:</p> <ul> <li>Android: <code>/data/data/com.kingbenny101.countapp/</code></li> <li>Windows: <code>%APPDATA%\\countapp\\</code></li> <li>Linux: <code>~/.local/share/countapp/</code></li> </ul>"},{"location":"getting-started/configuration/#changing-storage-path","title":"Changing Storage Path","text":"<p>To customize storage location:</p> <pre><code>await Hive.initFlutter('custom_directory');\n</code></pre>"},{"location":"getting-started/configuration/#code-generation","title":"Code Generation","text":""},{"location":"getting-started/configuration/#build_runner-configuration","title":"build_runner Configuration","text":"<p>In <code>build.yaml</code>:</p> <pre><code>targets:\n  $default:\n    builders:\n      hive_ce_generator:hive_type_adapter_generator:\n        enabled: true\n        options:\n          generate_for:\n            - lib/**/*.dart\n</code></pre>"},{"location":"getting-started/configuration/#generation-commands","title":"Generation Commands","text":"<pre><code># Clean and rebuild\ndart run build_runner clean\ndart run build_runner build --delete-conflicting-outputs\n\n# Watch mode for development\ndart run build_runner watch\n</code></pre>"},{"location":"getting-started/configuration/#lint-configuration","title":"Lint Configuration","text":"<p>Configured in <code>analysis_options.yaml</code>:</p> <pre><code>include: package:lint/analysis_options.yaml\n\nanalyzer:\n  exclude:\n    - '**/*.g.dart'\n    - '**/*.freezed.dart'\n\n  errors:\n    invalid_annotation_target: ignore\n\nlinter:\n  rules:\n    prefer_const_constructors: true\n    prefer_final_fields: true\n    unnecessary_this: true\n</code></pre>"},{"location":"getting-started/configuration/#customizing-lint-rules","title":"Customizing Lint Rules","text":"<p>Add or disable rules:</p> <pre><code>linter:\n  rules:\n    # Enable stricter rules\n    always_declare_return_types: true\n    avoid_print: true\n\n    # Disable rules\n    prefer_single_quotes: false\n</code></pre>"},{"location":"getting-started/configuration/#build-script-configuration","title":"Build Script Configuration","text":""},{"location":"getting-started/configuration/#custom-build-commands","title":"Custom Build Commands","text":"<p>Edit <code>tool/build.dart</code> to add custom build logic:</p> <pre><code>Future&lt;void&gt; customBuild() async {\n  print(\"Running custom build...\");\n\n  // Pre-build steps\n  await generateEnvironment();\n\n  // Custom logic here\n\n  // Build\n  await buildAndroid();\n}\n</code></pre>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>Set environment variables for builds:</p> <pre><code># Android signing\nexport ANDROID_KEYSTORE_PATH=/path/to/keystore.jks\nexport ANDROID_KEYSTORE_PASSWORD=secret\nexport ANDROID_KEY_ALIAS=upload\n\n# Build\ndart run tool/build.dart build_android\n</code></pre>"},{"location":"getting-started/configuration/#feature-flags","title":"Feature Flags","text":"<p>To add feature flags, create <code>lib/config/feature_flags.dart</code>:</p> <pre><code>class FeatureFlags {\n  static const bool enableExperimentalFeatures = false;\n  static const bool enableAnalytics = false;\n  static const bool enableCrashReporting = false;\n\n  static const bool debugMode = bool.fromEnvironment('DEBUG', defaultValue: false);\n}\n</code></pre> <p>Usage:</p> <pre><code>if (FeatureFlags.enableExperimentalFeatures) {\n  // Show experimental feature\n}\n</code></pre>"},{"location":"getting-started/configuration/#environment-specific-configuration","title":"Environment-Specific Configuration","text":""},{"location":"getting-started/configuration/#development","title":"Development","text":"<pre><code>const bool isProduction = bool.fromEnvironment('dart.vm.product');\n\nif (!isProduction) {\n  // Development-only code\n  print(\"Running in development mode\");\n}\n</code></pre>"},{"location":"getting-started/configuration/#production","title":"Production","text":"<p>Build with production flag:</p> <pre><code>flutter build apk --release --dart-define=dart.vm.product=true\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Building \u2192 - Build for release</li> <li>Development \u2192 - Build system details</li> <li>Contributing \u2192 - Contribute to the project</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Flutter SDK 3.3.3+</li> <li>Dart SDK 3.3.3+ (bundled with Flutter)</li> <li>Git</li> </ul>"},{"location":"getting-started/installation/#platform-requirements","title":"Platform Requirements","text":"<ul> <li>Android: Android Studio with SDK (API 21+)</li> <li>Windows: Visual Studio 2022 with C++ desktop development</li> <li>Linux: Standard development tools (<code>build-essential</code>, <code>libgtk-3-dev</code>)</li> </ul>"},{"location":"getting-started/installation/#setup","title":"Setup","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/KingBenny101/countapp.git\ncd countapp\n</code></pre> <ol> <li>Install dependencies:</li> </ol> <pre><code>flutter pub get\n</code></pre> <ol> <li>Generate code:</li> </ol> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <ol> <li>Run the app:</li> </ol> <pre><code>flutter run\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>flutter doctor\n</code></pre> <p>All required components should show checkmarks for your target platform.</p> <pre><code>**Dependencies for Linux desktop**:\n\n```bash\n# Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install clang cmake ninja-build pkg-config libgtk-3-dev liblzma-dev\n\n# Fedora\nsudo dnf install clang cmake ninja-build gtk3-devel\n\n# Arch Linux\nsudo pacman -S clang cmake ninja gtk3\n```\n</code></pre>"},{"location":"getting-started/installation/#4-git","title":"4. Git","text":"<p>Install Git for version control:</p> WindowsLinuxmacOS <p>Download from git-scm.com</p> <pre><code>sudo apt-get install git  # Ubuntu/Debian\nsudo dnf install git       # Fedora\nsudo pacman -S git         # Arch Linux\n</code></pre> <pre><code>brew install git\n</code></pre>"},{"location":"getting-started/installation/#verify-installation_1","title":"Verify Installation","text":"<p>Run Flutter doctor to check your setup:</p> <pre><code>flutter doctor -v\n</code></pre> <p>Expected output should show:</p> <pre><code>[\u2713] Flutter (Channel stable, 3.16.0, on Microsoft Windows...)\n[\u2713] Android toolchain - develop for Android devices\n[\u2713] Windows version (Installed)\n[\u2713] VS Code (version 1.85.0)\n[\u2713] Connected device (1 available)\n[\u2713] Network resources\n</code></pre>"},{"location":"getting-started/installation/#clone-the-repository","title":"Clone the Repository","text":"<p>Clone the Count App repository:</p> <pre><code>git clone https://github.com/KingBenny101/countapp.git\ncd countapp\n</code></pre>"},{"location":"getting-started/installation/#install-dependencies","title":"Install Dependencies","text":"<p>Install all required Flutter packages:</p> <pre><code>flutter pub get\n</code></pre> <p>This will install all dependencies listed in <code>pubspec.yaml</code>, including:</p> <ul> <li>hive_ce: Local storage</li> <li>provider: State management</li> <li>fl_chart: Chart visualizations</li> <li>syncfusion_flutter_charts: Advanced charts</li> <li>And more...</li> </ul>"},{"location":"getting-started/installation/#generate-required-files","title":"Generate Required Files","text":"<p>Generate Hive adapters and other code:</p> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <p>Or use the build script:</p> <pre><code>dart run tool/build.dart generate\n</code></pre> <p>This generates:</p> <ul> <li>Hive type adapters (<code>*.g.dart</code>)</li> <li>Hive registrar (<code>hive_registrar.g.dart</code>)</li> </ul>"},{"location":"getting-started/installation/#ide-setup","title":"IDE Setup","text":""},{"location":"getting-started/installation/#visual-studio-code","title":"Visual Studio Code","text":"<ol> <li> <p>Install Extensions:</p> </li> <li> <p>Flutter</p> </li> <li>Dart</li> <li> <p>Flutter Widget Snippets (optional)</p> </li> <li> <p>Configure Settings: Create <code>.vscode/settings.json</code>:</p> </li> </ol> <pre><code>{\n  \"dart.flutterSdkPath\": \"C:\\\\path\\\\to\\\\flutter\",\n  \"dart.lineLength\": 80,\n  \"editor.formatOnSave\": true,\n  \"editor.rulers\": [80]\n}\n</code></pre>"},{"location":"getting-started/installation/#android-studio-intellij-idea","title":"Android Studio / IntelliJ IDEA","text":"<ol> <li> <p>Install Plugins:</p> </li> <li> <p>Flutter</p> </li> <li> <p>Dart</p> </li> <li> <p>Configure Flutter SDK:</p> </li> <li>File \u2192 Settings \u2192 Languages &amp; Frameworks \u2192 Flutter</li> <li>Set Flutter SDK path</li> </ol>"},{"location":"getting-started/installation/#verify-setup","title":"Verify Setup","text":"<p>Test your setup by running the app:</p> <pre><code>flutter run\n</code></pre> <p>Or use the debug configuration in your IDE.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/installation/#issue-build_runner-fails","title":"Issue: <code>build_runner</code> fails","text":"<p>Solution:</p> <pre><code>flutter clean\nflutter pub get\ndart run build_runner clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"getting-started/installation/#issue-android-licenses-not-accepted","title":"Issue: Android licenses not accepted","text":"<p>Solution:</p> <pre><code>flutter doctor --android-licenses\n</code></pre>"},{"location":"getting-started/installation/#issue-windows-build-fails","title":"Issue: Windows build fails","text":"<p>Solution: Ensure Visual Studio 2022 with C++ desktop development is installed.</p>"},{"location":"getting-started/installation/#issue-hive-errors","title":"Issue: Hive errors","text":"<p>Solution: Delete Hive boxes and regenerate:</p> <pre><code># Clear app data or delete Hive files\nflutter clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<p>If you encounter issues:</p> <ol> <li>Check Flutter Doctor</li> <li>Review GitHub Issues</li> <li>Open a new issue with details</li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have everything installed:</p> <ul> <li>Quick Start \u2192 - Run the app and explore features</li> <li>Building \u2192 - Create release builds</li> <li>Architecture \u2192 - Understand the codebase</li> </ul> <p>Setup Complete!</p> <p>Your development environment is ready! Proceed to the Quick Start guide to run the app.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#run-the-app","title":"Run the App","text":"<pre><code>flutter run\n</code></pre> <p>Or specify a platform:</p> <pre><code>flutter run -d android    # Android\nflutter run -d windows    # Windows\nflutter run -d linux      # Linux\n</code></pre>"},{"location":"getting-started/quick-start/#creating-a-counter","title":"Creating a Counter","text":"<ol> <li>Tap the \u2795 button</li> <li>Select counter type (currently only \"Tap Counter\")</li> <li>Configure:</li> <li>Name: Counter name</li> <li>Step Size: Increment/decrement value</li> <li>Direction: Up or down</li> <li>Initial Count: Starting value</li> <li>Tap \u2795 to create</li> </ol>"},{"location":"getting-started/quick-start/#using-counters","title":"Using Counters","text":"<ul> <li>Tap counter to update value</li> <li>Long-press for options (statistics, delete)</li> <li>Menu (\u22ee) for all updates, info, options, theme toggle</li> </ul>"},{"location":"getting-started/quick-start/#viewing-statistics","title":"Viewing Statistics","text":"<ol> <li>Long-press a counter and select \"Statistics\"</li> <li>View charts showing:</li> <li>Line chart: Value over time</li> <li>Bar chart: Updates by day</li> </ol>"},{"location":"getting-started/quick-start/#importexport","title":"Import/Export","text":"<p>Export:</p> <ol> <li>Menu \u2192 Options \u2192 Export Counters</li> <li>JSON file saved to device</li> </ol> <p>Import:</p> <ol> <li>Menu \u2192 Options \u2192 Import Counters</li> <li>Select JSON file</li> </ol>"},{"location":"getting-started/quick-start/#main-screen-home","title":"Main Screen (Home)","text":"<p>The home screen shows all your counters:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Count App          \u22ee      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                             \u2502\n\u2502  \ud83d\udd35 Water Intake            \u2502\n\u2502     8 glasses               \u2502\n\u2502     Step Size: +1           \u2502\n\u2502                             \u2502\n\u2502  \ud83d\udd35 Daily Steps             \u2502\n\u2502     5,200 steps             \u2502\n\u2502     Step Size: +100         \u2502\n\u2502                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2795\n</code></pre> <ul> <li>App Bar: Title, options menu, theme toggle</li> <li>Counter List: All your counters</li> <li>FAB: Add new counter</li> </ul>"},{"location":"getting-started/quick-start/#options-menu","title":"Options Menu","text":"<p>Tap the menu icon (\u22ee) to access:</p> <ul> <li>All Updates: View all counter updates across all counters</li> <li>Info: App information and version</li> <li>Options: Settings and preferences</li> <li>Theme Toggle: Switch between light/dark mode</li> </ul>"},{"location":"getting-started/quick-start/#exploring-statistics","title":"Exploring Statistics","text":""},{"location":"getting-started/quick-start/#access-statistics","title":"Access Statistics","text":"<ol> <li>Select a counter (long-press to enter selection mode)</li> <li>Tap Statistics button in the action bar</li> <li>View detailed analytics:</li> <li>Daily update frequency chart</li> <li>Total updates count</li> <li>Average updates per day</li> <li>Most active day</li> <li>Update history timeline</li> </ol>"},{"location":"getting-started/quick-start/#understanding-charts","title":"Understanding Charts","text":"<p>The statistics page includes:</p> <ul> <li>Bar Chart: Updates by day of week</li> <li>\ud83d\udcc8 Line Chart: Update trends over time</li> <li>\ud83d\udcc5 Calendar View: Daily update counts</li> <li>\ud83d\udcdc Update History: Chronological list of all updates</li> </ul>"},{"location":"getting-started/quick-start/#data-management","title":"Data Management","text":""},{"location":"getting-started/quick-start/#export-data","title":"Export Data","text":"<p>Export all counter data to JSON:</p> <ol> <li>Go to Options menu (\u22ee)</li> <li>Select Export Data</li> <li>Choose save location</li> <li>JSON file is created with all counters</li> </ol>"},{"location":"getting-started/quick-start/#import-data","title":"Import Data","text":"<p>Import previously exported data:</p> <ol> <li>Go to Options menu (\u22ee)</li> <li>Select Import Data</li> <li>Choose JSON file</li> <li>Confirm to import</li> </ol> <p>Import Warning</p> <p>Importing will replace all existing counters. Export your current data first if needed!</p>"},{"location":"getting-started/quick-start/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>When running on desktop (Windows/Linux):</p> Action Shortcut Add Counter <code>Ctrl+N</code> Delete Selected <code>Delete</code> Select All <code>Ctrl+A</code> Deselect All <code>Escape</code> Toggle Theme <code>Ctrl+Shift+T</code>"},{"location":"getting-started/quick-start/#example-workflows","title":"Example Workflows","text":""},{"location":"getting-started/quick-start/#workflow-1-daily-habit-tracking","title":"Workflow 1: Daily Habit Tracking","text":"<pre><code>graph LR\n    A[Create Counter] --&gt; B[Name: Water Intake]\n    B --&gt; C[Step: +1]\n    C --&gt; D[Tap 8 times daily]\n    D --&gt; E[View Statistics]\n    E --&gt; F[Track Progress]</code></pre> <ol> <li>Create \"Water Intake\" counter with step size +1</li> <li>Tap once each time you drink a glass of water</li> <li>View statistics to see daily patterns</li> <li>Adjust habits based on data</li> </ol>"},{"location":"getting-started/quick-start/#workflow-2-project-tracking","title":"Workflow 2: Project Tracking","text":"<pre><code>graph LR\n    A[Create Counter] --&gt; B[Name: Bug Fixes]\n    B --&gt; C[Step: +1]\n    C --&gt; D[Update on completion]\n    D --&gt; E[Export weekly]\n    E --&gt; F[Generate reports]</code></pre> <ol> <li>Create \"Bug Fixes\" counter with step size +1</li> <li>Increment for each bug fixed</li> <li>Export data weekly for reporting</li> <li>Analyze productivity trends</li> </ol>"},{"location":"getting-started/quick-start/#workflow-3-inventory-management","title":"Workflow 3: Inventory Management","text":"<pre><code>graph LR\n    A[Create Counters] --&gt; B[Name: Stock Items]\n    B --&gt; C[Step: \u00b110]\n    C --&gt; D[Increment on restock]\n    D --&gt; E[Decrement on use]\n    E --&gt; F[Monitor levels]</code></pre> <ol> <li>Create counter for each inventory item</li> <li>Use increment direction for restocking</li> <li>Use decrement direction for consumption</li> <li>Monitor stock levels in real-time</li> </ol>"},{"location":"getting-started/quick-start/#tips-tricks","title":"Tips &amp; Tricks","text":"<p>Confirmation Dialogs</p> <p>Disable confirmation dialogs in counter settings for faster updates. Useful for high-frequency counting.</p> <p>Step Size Strategy</p> <p>Use larger step sizes (10, 100) for counts that change in batches, like inventory or batch processing.</p> <p>Naming Convention</p> <p>Use clear, descriptive names with categories: \"Health: Water Intake\", \"Work: Tasks Completed\"</p> <p>Regular Exports</p> <p>Export your data regularly to prevent loss. Consider weekly or monthly backups.</p>"},{"location":"getting-started/quick-start/#common-tasks","title":"Common Tasks","text":""},{"location":"getting-started/quick-start/#task-reset-a-counter","title":"Task: Reset a Counter","text":"<p>Currently, to reset a counter:</p> <ol> <li>Note the counter configuration</li> <li>Delete the counter</li> <li>Create a new counter with the same settings</li> </ol>"},{"location":"getting-started/quick-start/#task-duplicate-a-counter","title":"Task: Duplicate a Counter","text":"<p>To create a similar counter:</p> <ol> <li>Export data</li> <li>Open JSON file in text editor</li> <li>Copy counter configuration</li> <li>Modify as needed</li> <li>Import modified JSON</li> </ol>"},{"location":"getting-started/quick-start/#task-bulk-delete","title":"Task: Bulk Delete","text":"<p>To delete multiple counters:</p> <ol> <li>Long-press to enter selection mode</li> <li>Tap all counters to delete</li> <li>Tap delete button (\ud83d\uddd1\ufe0f)</li> <li>Confirm deletion</li> </ol>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you're familiar with the basics:</p> <ul> <li>Building \u2192 - Create release builds for distribution</li> <li>Architecture \u2192 - Understand how the app works</li> <li>Adding Counter Types \u2192 - Extend the app with new counter types</li> <li>User Guide \u2192 - Explore all features in detail</li> </ul>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#app-wont-start","title":"App Won't Start","text":"<pre><code>flutter clean\nflutter pub get\ndart run build_runner build --delete-conflicting-outputs\nflutter run\n</code></pre>"},{"location":"getting-started/quick-start/#counters-not-saving","title":"Counters Not Saving","text":"<p>Check permissions:</p> <ul> <li>Android: Storage permissions</li> <li>Windows/Linux: Write permissions to app directory</li> </ul>"},{"location":"getting-started/quick-start/#ui-not-updating","title":"UI Not Updating","text":"<p>Try hot restart instead of hot reload:</p> <ul> <li>Press <code>R</code> in terminal</li> <li>Or restart the app completely</li> </ul> <p>You're Ready!</p> <p>You now know the basics of Count App. Start creating counters and tracking your data!</p>"},{"location":"guides/adding-counter-types/","title":"Adding New Counter Types","text":""},{"location":"guides/adding-counter-types/#adding-new-counter-types","title":"Adding New Counter Types","text":"<p>This comprehensive guide walks you through creating a new counter type in Count App. The app's extensible architecture makes it straightforward to add custom counter implementations.</p>"},{"location":"guides/adding-counter-types/#overview","title":"Overview","text":"<p>Adding a new counter type involves:</p> <ol> <li>Creating a counter class that extends <code>BaseCounter</code></li> <li>Implementing required methods and properties</li> <li>Adding Hive persistence annotations</li> <li>Creating UI pages (config, statistics, updates)</li> <li>Registering the counter type in the factory</li> <li>Generating code and testing</li> </ol>"},{"location":"guides/adding-counter-types/#prerequisites","title":"Prerequisites","text":"<p>Before you begin:</p> <ul> <li>Complete the Installation guide</li> <li>Understand the Architecture</li> <li>Familiarize yourself with BaseCounter API</li> </ul>"},{"location":"guides/adding-counter-types/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"guides/adding-counter-types/#step-1-plan-your-counter-type","title":"Step 1: Plan Your Counter Type","text":"<p>Define the counter's behavior and properties:</p> <p>Example: Long Press Counter</p> <ul> <li>Requires long press (500ms+) to update</li> <li>Configurable hold duration</li> <li>Visual feedback during press</li> <li>Haptic feedback on update</li> </ul> <p>Required Decisions:</p> <ul> <li>Type identifier (e.g., \"long_press\")</li> <li>Hive typeId (unique integer, e.g., 3)</li> <li>Configuration parameters</li> <li>Update trigger mechanism</li> <li>Statistics to track</li> </ul>"},{"location":"guides/adding-counter-types/#step-2-create-counter-directory","title":"Step 2: Create Counter Directory","text":"<p>Create a new directory for your counter type:</p> <pre><code>lib/counters/long_press_counter/\n</code></pre> <p>This keeps counter-specific code isolated and maintainable.</p>"},{"location":"guides/adding-counter-types/#step-3-implement-the-counter-class","title":"Step 3: Implement the Counter Class","text":"<p>Create the main counter class file:</p> lib/counters/long_press_counter/long_press_counter.dart<pre><code>import \"package:countapp/counters/base/base_counter.dart\";\nimport \"package:flutter/material.dart\";\nimport \"package:hive_ce/hive.dart\";\nimport \"package:uuid/uuid.dart\";\n\npart \"long_press_counter.g.dart\";\n\n/// A counter that requires long press to update\n@HiveType(typeId: 3)  // Choose unique typeId\nclass LongPressCounter extends BaseCounter {\n  LongPressCounter({\n    String? id,\n    required this.name,\n    required this.value,\n    required this.stepSize,\n    required this.holdDuration,\n    this.lastUpdated,\n    List&lt;DateTime&gt;? updates,\n  })  : id = id ?? const Uuid().v4(),\n        updates = updates ?? (lastUpdated != null ? [lastUpdated] : []),\n        super(\n          id: id ?? const Uuid().v4(),\n          name: name,\n          value: value,\n          lastUpdated: lastUpdated,\n          updates: updates,\n        );\n\n  /// Create from JSON\n  factory LongPressCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n    final DateTime? lastUpdated = json[\"lastUpdated\"] != null\n        ? DateTime.parse(json[\"lastUpdated\"] as String)\n        : null;\n\n    return LongPressCounter(\n      id: json[\"id\"] as String?,\n      name: json[\"name\"] as String,\n      value: json[\"value\"] as int,\n      stepSize: json[\"stepSize\"] as int,\n      holdDuration: json[\"holdDuration\"] as int,\n      lastUpdated: lastUpdated,\n      updates: (json[\"updates\"] as List&lt;dynamic&gt;?)\n              ?.map((e) =&gt; DateTime.parse(e as String))\n              .toList() ??\n          (lastUpdated != null ? [lastUpdated] : []),\n    );\n  }\n\n  @HiveField(0)\n  final int stepSize;\n\n  @HiveField(1)\n  final int holdDuration; // milliseconds\n\n  @HiveField(2)\n  @override\n  final String id;\n\n  @HiveField(3)\n  @override\n  String name;\n\n  @HiveField(4)\n  @override\n  int value;\n\n  @HiveField(5)\n  @override\n  DateTime? lastUpdated;\n\n  @HiveField(6)\n  @override\n  List&lt;DateTime&gt; updates;\n\n  @override\n  String get counterType =&gt; \"long_press\";\n\n  @override\n  Future&lt;bool&gt; onInteraction(BuildContext context) async {\n    // Show dialog with long press gesture detector\n    final confirmed = await _showLongPressDialog(context);\n\n    if (!confirmed) return false;\n\n    // Update counter\n    value += stepSize;\n    final now = DateTime.now();\n    lastUpdated = now;\n    updates.insert(0, now);\n\n    return true;\n  }\n\n  @override\n  Widget buildIcon() {\n    return CircleAvatar(\n      backgroundColor: getColor(),\n      child: const Icon(\n        Icons.touch_app,\n        color: Colors.white,\n        size: 24,\n      ),\n    );\n  }\n\n  @override\n  String getSubtitle() {\n    return \"Hold ${holdDuration}ms \u2022 Step: +$stepSize\";\n  }\n\n  @override\n  Color getColor() =&gt; Colors.deepPurple;\n\n  @override\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      \"counterType\": counterType,\n      \"id\": id,\n      \"name\": name,\n      \"value\": value,\n      \"stepSize\": stepSize,\n      \"holdDuration\": holdDuration,\n      \"lastUpdated\": lastUpdated?.toIso8601String(),\n      \"updates\": updates.map((e) =&gt; e.toIso8601String()).toList(),\n    };\n  }\n\n  @override\n  bool validate() {\n    return super.validate() &amp;&amp; stepSize &gt; 0 &amp;&amp; holdDuration &gt; 0;\n  }\n\n  @override\n  Widget? getStatisticsPage(int index) {\n    // Return custom statistics page if needed\n    return null;\n  }\n\n  Future&lt;bool&gt; _showLongPressDialog(BuildContext context) async {\n    bool wasHeld = false;\n\n    await showDialog(\n      context: context,\n      builder: (context) {\n        return AlertDialog(\n          title: Text(\"Hold to Update $name\"),\n          content: GestureDetector(\n            onLongPress: () {\n              wasHeld = true;\n              Navigator.pop(context);\n            },\n            onLongPressStart: (_) {\n              // Visual feedback\n            },\n            child: Container(\n              height: 100,\n              alignment: Alignment.center,\n              child: const Text(\"Press and hold...\"),\n            ),\n          ),\n        );\n      },\n    );\n\n    return wasHeld;\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-4-create-configuration-page","title":"Step 4: Create Configuration Page","text":"<p>Create a UI for users to configure your counter:</p> lib/counters/long_press_counter/long_press_counter_config.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:countapp/providers/counter_provider.dart\";\nimport \"package:countapp/utils/constants.dart\";\nimport \"package:countapp/utils/widgets.dart\";\nimport \"package:flutter/material.dart\";\nimport \"package:flutter/services.dart\";\nimport \"package:provider/provider.dart\";\n\nclass LongPressCounterConfigPage extends StatefulWidget {\n  const LongPressCounterConfigPage({super.key});\n\n  @override\n  LongPressCounterConfigPageState createState() =&gt;\n      LongPressCounterConfigPageState();\n}\n\nclass LongPressCounterConfigPageState\n    extends State&lt;LongPressCounterConfigPage&gt; {\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  String _name = \"\";\n  int _stepSize = AppConstants.defaultStepSize;\n  int _initialCount = AppConstants.defaultInitialValue;\n  int _holdDuration = 500; // Default 500ms\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text(\"Create Long Press Counter\")),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Form(\n          key: _formKey,\n          child: ListView(\n            children: [\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Counter Name\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.edit),\n                ),\n                onChanged: (value) =&gt; _name = value,\n                validator: (value) {\n                  if (value == null || value.isEmpty) {\n                    return \"Please enter a name\";\n                  }\n                  return null;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Step Size\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.add),\n                ),\n                keyboardType: TextInputType.number,\n                inputFormatters: [FilteringTextInputFormatter.digitsOnly],\n                initialValue: _stepSize.toString(),\n                onChanged: (value) {\n                  _stepSize = int.tryParse(value) ?? AppConstants.defaultStepSize;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Hold Duration (ms)\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.timer),\n                  helperText: \"How long to hold (milliseconds)\",\n                ),\n                keyboardType: TextInputType.number,\n                inputFormatters: [FilteringTextInputFormatter.digitsOnly],\n                initialValue: _holdDuration.toString(),\n                onChanged: (value) {\n                  _holdDuration = int.tryParse(value) ?? 500;\n                },\n              ),\n              const SizedBox(height: 16),\n              TextFormField(\n                decoration: const InputDecoration(\n                  labelText: \"Initial Count\",\n                  border: OutlineInputBorder(),\n                  prefixIcon: Icon(Icons.looks_one),\n                ),\n                keyboardType: TextInputType.number,\n                initialValue: _initialCount.toString(),\n                onChanged: (value) {\n                  _initialCount =\n                      int.tryParse(value) ?? AppConstants.defaultInitialValue;\n                },\n              ),\n            ],\n          ),\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          if (_formKey.currentState!.validate()) {\n            final newCounter = LongPressCounter(\n              name: _name,\n              value: _initialCount,\n              stepSize: _stepSize,\n              holdDuration: _holdDuration,\n              lastUpdated: DateTime.now(),\n            );\n\n            Provider.of&lt;CounterProvider&gt;(context, listen: false)\n                .addCounter(newCounter);\n\n            if (context.mounted) {\n              ScaffoldMessenger.of(context).showSnackBar(\n                buildAppSnackBar(\"Counter Added Successfully!\"),\n              );\n              Navigator.pop(context);\n            }\n          }\n        },\n        tooltip: \"Add Counter\",\n        child: const Icon(Icons.add),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-5-register-in-counter-factory","title":"Step 5: Register in Counter Factory","text":"<p>Update the <code>CounterFactory</code> to recognize your new counter type:</p> lib/counters/base/counter_factory.dart<pre><code>import \"package:countapp/counters/base/base_counter.dart\";\nimport \"package:countapp/counters/tap_counter/tap_counter.dart\";\nimport \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\n\nclass CounterFactory {\n  static BaseCounter fromJson(Map&lt;String, dynamic&gt; json) {\n    final type = json[\"counterType\"] as String?;\n\n    switch (type) {\n      case \"tap\":\n        return TapCounter.fromJson(json);\n      case \"long_press\":  // Add your counter type\n        return LongPressCounter.fromJson(json);\n      default:\n        throw ArgumentError(\"Unknown counter type: $type\");\n    }\n  }\n\n  static List&lt;String&gt; getSupportedTypes() {\n    return [\"tap\", \"long_press\"];  // Add to list\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-6-update-type-selection-ui","title":"Step 6: Update Type Selection UI","text":"<p>If you have a counter type selection page, update it to include your new type:</p> lib/screens/add_counter_page.dart<pre><code>// In your counter type selection page\nfinal counterTypes = [\n  {\n    \"type\": \"tap\",\n    \"name\": \"Tap Counter\",\n    \"icon\": Icons.touch_app,\n  },\n  {\n    \"type\": \"long_press\",\n    \"name\": \"Long Press Counter\",\n    \"icon\": Icons.touch_app,\n  },\n];\n</code></pre>"},{"location":"guides/adding-counter-types/#step-7-generate-code","title":"Step 7: Generate Code","text":"<p>Generate Hive adapters for your new counter:</p> <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre> <p>This creates:</p> <ul> <li><code>long_press_counter.g.dart</code> with the <code>LongPressCounterAdapter</code></li> <li>Updates <code>hive_registrar.g.dart</code> to register the adapter</li> </ul>"},{"location":"guides/adding-counter-types/#step-8-update-main-registration","title":"Step 8: Update Main Registration","text":"<p>The Hive registrar automatically includes your adapter, but verify in <code>main.dart</code>:</p> lib/main.dart<pre><code>import \"package:countapp/hive_registrar.g.dart\";\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Hive.initFlutter();\n\n  // Automatic registration via generated code\n  Hive.registerAdapters();\n\n  // ... rest of initialization\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-9-test-your-counter","title":"Step 9: Test Your Counter","text":"<p>Run comprehensive tests:</p> test/long_press_counter_test.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:flutter_test/flutter_test.dart\";\n\nvoid main() {\n  group(\"LongPressCounter\", () {\n    test(\"creates with correct properties\", () {\n      final counter = LongPressCounter(\n        name: \"Test\",\n        value: 0,\n        stepSize: 5,\n        holdDuration: 1000,\n      );\n\n      expect(counter.name, \"Test\");\n      expect(counter.value, 0);\n      expect(counter.stepSize, 5);\n      expect(counter.holdDuration, 1000);\n      expect(counter.counterType, \"long_press\");\n    });\n\n    test(\"serializes to JSON correctly\", () {\n      final counter = LongPressCounter(\n        name: \"Test\",\n        value: 10,\n        stepSize: 5,\n        holdDuration: 1000,\n      );\n\n      final json = counter.toJson();\n\n      expect(json[\"counterType\"], \"long_press\");\n      expect(json[\"name\"], \"Test\");\n      expect(json[\"value\"], 10);\n      expect(json[\"stepSize\"], 5);\n      expect(json[\"holdDuration\"], 1000);\n    });\n\n    test(\"deserializes from JSON correctly\", () {\n      final json = {\n        \"counterType\": \"long_press\",\n        \"id\": \"test-id\",\n        \"name\": \"Test\",\n        \"value\": 10,\n        \"stepSize\": 5,\n        \"holdDuration\": 1000,\n        \"lastUpdated\": null,\n        \"updates\": [],\n      };\n\n      final counter = LongPressCounter.fromJson(json);\n\n      expect(counter.name, \"Test\");\n      expect(counter.value, 10);\n      expect(counter.stepSize, 5);\n      expect(counter.holdDuration, 1000);\n    });\n\n    test(\"validates correctly\", () {\n      final validCounter = LongPressCounter(\n        name: \"Valid\",\n        value: 0,\n        stepSize: 1,\n        holdDuration: 500,\n      );\n      expect(validCounter.validate(), true);\n\n      final invalidCounter = LongPressCounter(\n        name: \"\",\n        value: 0,\n        stepSize: 0,\n        holdDuration: 0,\n      );\n      expect(invalidCounter.validate(), false);\n    });\n  });\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#step-10-add-statistics-optional","title":"Step 10: Add Statistics (Optional)","text":"<p>If your counter needs custom statistics:</p> lib/counters/long_press_counter/long_press_counter_statistics.dart<pre><code>import \"package:countapp/counters/long_press_counter/long_press_counter.dart\";\nimport \"package:countapp/utils/statistics.dart\";\nimport \"package:flutter/material.dart\";\n\nclass LongPressCounterStatisticsPage extends StatelessWidget {\n  const LongPressCounterStatisticsPage({\n    super.key,\n    required this.counter,\n    required this.index,\n  });\n\n  final LongPressCounter counter;\n  final int index;\n\n  @override\n  Widget build(BuildContext context) {\n    // Use DateStatistics utilities\n    final stats = DateStatistics.groupUpdatesByDay(counter.updates);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"${counter.name} Statistics\"),\n      ),\n      body: ListView(\n        padding: const EdgeInsets.all(16),\n        children: [\n          _buildSummaryCard(),\n          const SizedBox(height: 16),\n          _buildChartCard(stats),\n          // Add more custom statistics\n        ],\n      ),\n    );\n  }\n\n  Widget _buildSummaryCard() {\n    // Custom statistics implementation\n    return Card(\n      child: Padding(\n        padding: const EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              \"Total Updates: ${counter.updates.length}\",\n              style: const TextStyle(fontSize: 18),\n            ),\n            // Add more summary stats\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildChartCard(Map&lt;DateTime, int&gt; stats) {\n    // Chart implementation\n    return Card(\n      child: Container(),\n    );\n  }\n}\n</code></pre> <p>Then update your counter class:</p> <pre><code>@override\nWidget? getStatisticsPage(int index) {\n  return LongPressCounterStatisticsPage(counter: this, index: index);\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#files-you-need-to-modify","title":"Files You Need to Modify","text":"<p>Summary of all files involved:</p>"},{"location":"guides/adding-counter-types/#new-files-to-create","title":"New Files to Create","text":"File Purpose <code>lib/counters/long_press_counter/long_press_counter.dart</code> Main counter class <code>lib/counters/long_press_counter/long_press_counter_config.dart</code> Configuration UI <code>lib/counters/long_press_counter/long_press_counter_statistics.dart</code> Statistics page (optional) <code>lib/counters/long_press_counter/long_press_counter_updates.dart</code> Updates history (optional) <code>test/long_press_counter_test.dart</code> Unit tests"},{"location":"guides/adding-counter-types/#files-to-modify","title":"Files to Modify","text":"File Changes Required <code>lib/counters/base/counter_factory.dart</code> Add case for new counter type <code>lib/screens/add_counter_page.dart</code> Add to type selection list"},{"location":"guides/adding-counter-types/#auto-generated-files","title":"Auto-Generated Files","text":"File Generated By <code>lib/counters/long_press_counter/long_press_counter.g.dart</code> build_runner <code>lib/hive_registrar.g.dart</code> build_runner (updated)"},{"location":"guides/adding-counter-types/#best-practices","title":"Best Practices","text":""},{"location":"guides/adding-counter-types/#naming-conventions","title":"Naming Conventions","text":"<pre><code>// Good\nclass TapCounter extends BaseCounter { }\nclass LongPressCounter extends BaseCounter { }\nclass SwipeCounter extends BaseCounter { }\n\n// Bad\nclass Counter1 extends BaseCounter { }\nclass MyCounter extends BaseCounter { }\n</code></pre>"},{"location":"guides/adding-counter-types/#type-ids","title":"Type IDs","text":"<p>Choose unique Hive typeIds:</p> <pre><code>// Reserve typeId ranges\n// 0: CounterAdapter (legacy)\n// 1: TapCounter\n// 2: (previously TapDirection, now unused)\n// 3-10: Future counter types\n// 11-20: Custom adapters\n</code></pre>"},{"location":"guides/adding-counter-types/#validation","title":"Validation","text":"<p>Always validate in both UI and model:</p> <pre><code>@override\nbool validate() {\n  return super.validate() &amp;&amp;\n         stepSize &gt; 0 &amp;&amp;\n         holdDuration &gt; 0 &amp;&amp;\n         holdDuration &lt; 10000; // Reasonable limits\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#error-handling","title":"Error Handling","text":"<pre><code>@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  try {\n    // Counter logic\n    return true;\n  } catch (e) {\n    if (context.mounted) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(content: Text(\"Error: $e\")),\n      );\n    }\n    return false;\n  }\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#advanced-features","title":"Advanced Features","text":""},{"location":"guides/adding-counter-types/#custom-animations","title":"Custom Animations","text":"<pre><code>@override\nWidget buildIcon() {\n  return TweenAnimationBuilder(\n    tween: Tween&lt;double&gt;(begin: 0.8, end: 1.0),\n    duration: const Duration(milliseconds: 300),\n    builder: (context, value, child) {\n      return Transform.scale(\n        scale: value,\n        child: CircleAvatar(\n          backgroundColor: getColor(),\n          child: const Icon(Icons.touch_app),\n        ),\n      );\n    },\n  );\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#platform-specific-behavior","title":"Platform-Specific Behavior","text":"<pre><code>import \"dart:io\";\n\n@override\nFuture&lt;bool&gt; onInteraction(BuildContext context) async {\n  if (Platform.isAndroid || Platform.isIOS) {\n    // Mobile-specific behavior\n    await HapticFeedback.mediumImpact();\n  }\n  // Standard behavior\n  return true;\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#custom-serialization","title":"Custom Serialization","text":"<pre><code>@override\nMap&lt;String, dynamic&gt; toJson() {\n  final json = super.toJson();\n  json.addAll({\n    \"customField\": _customValue,\n    \"metadata\": {\n      \"createdAt\": _createdAt.toIso8601String(),\n      \"version\": \"2.0\",\n    },\n  });\n  return json;\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/adding-counter-types/#issue-type-adapter-not-found","title":"Issue: Type adapter not found","text":"<p>Cause: Code generation not run or adapter not registered</p> <p>Solution:</p> <pre><code>dart run build_runner clean\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>"},{"location":"guides/adding-counter-types/#issue-factory-doesnt-recognize-type","title":"Issue: Factory doesn't recognize type","text":"<p>Cause: Counter type string mismatch</p> <p>Solution: Ensure <code>counterType</code> getter matches factory case:</p> <pre><code>@override\nString get counterType =&gt; \"long_press\"; // Must match factory\n</code></pre>"},{"location":"guides/adding-counter-types/#issue-json-deserialization-fails","title":"Issue: JSON deserialization fails","text":"<p>Cause: Missing fields or type mismatch</p> <p>Solution: Add null safety and defaults:</p> <pre><code>factory LongPressCounter.fromJson(Map&lt;String, dynamic&gt; json) {\n  return LongPressCounter(\n    stepSize: json[\"stepSize\"] as int? ?? 1, // Default value\n    // ...\n  );\n}\n</code></pre>"},{"location":"guides/adding-counter-types/#complete-checklist","title":"Complete Checklist","text":"<ul> <li> Create counter class extending <code>BaseCounter</code></li> <li> Add Hive annotations with unique typeId</li> <li> Implement all required methods</li> <li> Create configuration page UI</li> <li> Add to <code>CounterFactory</code></li> <li> Run code generation</li> <li> Write unit tests</li> <li> Test serialization/deserialization</li> <li> Test with Hive persistence</li> <li> Add to type selection UI</li> <li> Create statistics page (optional)</li> <li> Document the counter type</li> <li> Update CHANGELOG</li> </ul>"},{"location":"guides/adding-counter-types/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference \u2192 - Detailed BaseCounter API</li> <li>Architecture \u2192 - Counter system design</li> <li>Testing \u2192 - Testing strategies</li> <li>Contributing \u2192 - Contribution guidelines</li> </ul> <p>Counter Type Added!</p> <p>You've successfully added a new counter type! Test thoroughly and consider contributing it back to the project.</p>"}]}